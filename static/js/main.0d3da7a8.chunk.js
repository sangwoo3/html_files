(this["webpackJsonpsummary_annotation-app"]=this["webpackJsonpsummary_annotation-app"]||[]).push([[0],{101:function(t,e,a){t.exports={selectPlayerControl:"Select_selectPlayerControl__OgWvy"}},102:function(t,e,a){t.exports={videoEl:"video-player_videoEl__3PDdn"}},105:function(t,e,a){t.exports=a(236)},110:function(t,e,a){},111:function(t,e,a){t.exports=a.p+"static/media/logo.5d5d9eef.svg"},112:function(t,e,a){},12:function(t,e,a){t.exports={container:"transcript-editor_container__3hdJZ",main:"transcript-editor_main__3DGq4",mainWithAudiio:"transcript-editor_mainWithAudiio__3HnA-",help:"transcript-editor_help__29Bsr",helpMessage:"transcript-editor_helpMessage__3r62M",settingsButton:"transcript-editor_settingsButton__3l9kS",icon:"transcript-editor_icon__2dGb9",aside:"transcript-editor_aside__2AmOZ",settingsContainer:"transcript-editor_settingsContainer__2l_VH",grid:"transcript-editor_grid__24fjN",row:"transcript-editor_row__1-gs_",keyboardShortcutsButon:"transcript-editor_keyboardShortcutsButon__29Ao4"}},13:function(t,e,a){t.exports={settings:"settings_settings__AdO6f",header:"settings_header__c3Jc0",closeButton:"settings_closeButton__Jtol5",controlsContainer:"settings_controlsContainer__1Gt4w",settingElement:"settings_settingElement__1JxjQ",label:"settings_label__19tSW",rollbackValue:"settings_rollbackValue__1PZun",timecodeLabel:"settings_timecodeLabel__YhjC-"}},14:function(t,e,a){t.exports={playerControls:"PlayerControls_playerControls__3k5i8",playerButton:"PlayerControls_playerButton__f4oZ5",playBackRate:"PlayerControls_playBackRate__1I_Tx",timeBox:"PlayerControls_timeBox__JSqhF",currentTime:"PlayerControls_currentTime__19qr3",separator:"PlayerControls_separator__1iH51",duration:"PlayerControls_duration__3u5sn",btnsGroup:"PlayerControls_btnsGroup__2KJb3",pip:"PlayerControls_pip__2UFjK"}},236:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(25),s=a.n(o),i=(a(110),a(1)),c=a(2),l=a(4),p=a(3),u=(a(111),a(112),a(27)),d=a(31),h=a(8),m=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"segmentCheckbox"},r.a.createElement("input",{type:"checkbox",id:this.props.name,name:this.props.name,value:this.props.name,style:{marginRight:"8px",verticalAlign:"middle"}}),r.a.createElement("label",{for:this.props.name,style:{fontSize:"13px"}},this.props.name))}}]),a}(n.PureComponent),f=function(t,e){var a=25;void 0!==e&&(a=e);var n=function(t,e){return Number((1/e*Math.floor(Number((e*t).toPrecision(12)))).toFixed(2))}(t,a),r=Math.floor(n),o=((n-r)*a).toFixed(2);function s(t){return t<10?"0".concat(parseInt(t)):parseInt(t)}return"".concat(s(r/60/60%60),":").concat(s(r/60%60),":").concat(s(r%60),":").concat(s(o))},v=function(t,e){var a=25;void 0!==e&&(a=e);var n=function(t,e){var a=t.split(":"),n=parseInt(a[3]);return n+=parseInt(a[2])*e,n+=parseInt(a[1])*(60*e),n+=parseInt(a[0])*(60*e*60)}(t,a);return Number(Number(n/a).toFixed(2))},y=function(t){return 1===t.length},g=function(t){if("string"!==typeof t)return t;switch(t.split(":").length){case 4:return t;case 2:return y(t.split(":")[0])?"00:0".concat(t,":00"):"00:".concat(t,":00");case 3:return"".concat(t,":00");default:return function(t){return t.includes(".")}(t)?y(t.split(".")[0])?"00:0".concat(t.split(".")[0],":").concat(t.split(".")[1],":00"):"00:".concat(t.replace(".",":"),":00"):y(t)?"00:00:0".concat(t,":00"):"00:00:".concat(t,":00")}},k=function(t){if("string"===typeof t){var e=g(t);return v(e)}return parseFloat(t)},b=function(t){return f(t).slice(0,-3)},w=a(35),E=a.n(w),C=1,S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return C++,"".concat(t).concat(C)},_=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).shouldComponentUpdate=function(t,e){return t.block.getText()!==n.props.block.getText()||(t.blockProps.showSpeakers!==n.props.blockProps.showSpeakers||(t.blockProps.showTimecodes!==n.props.blockProps.showTimecodes||(t.blockProps.timecodeOffset!==n.props.blockProps.timecodeOffset||(e.speaker!==n.state.speaker||(t.blockProps.isEditable!==n.props.blockProps.isEditable||t.block.getData().get("speaker")!==n.state.speaker&&(console.log("shouldComponentUpdate wrapper speaker",t.block.getData().get("speaker"),n.state.speaker),!0))))))},n.handleTimecodeClick=function(){n.props.blockProps.onWordClick(n.state.start),n.props.blockProps.handleAnalyticsEvents&&n.props.blockProps.handleAnalyticsEvents({category:"WrapperBlock",action:"handleTimecodeClick",name:"onWordClick",value:f(n.state.start)})},n.state={start:0,timecodeOffset:n.props.blockProps.timecodeOffset},n.uid=S("sent-"),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=this.props.block.getData().get("start");this.setState({start:t})}},{key:"render",value:function(){var t=this,e=this.state.start;this.props.blockProps.timecodeOffset&&(e+=this.props.blockProps.timecodeOffset);var a=r.a.createElement("span",{className:E.a.time,onClick:this.handleTimecodeClick},b(e));return r.a.createElement("div",{className:E.a.WrapperBlock},r.a.createElement("div",{className:[E.a.markers,E.a.unselectable].join(" "),contentEditable:!1},r.a.createElement(m,{name:"".concat(function(){var e=(t.props.block.getData().get("speaker")||"").split(" ")[1];return"sentence-".concat(e)}())}),this.props.blockProps.showTimecodes?a:""),r.a.createElement("div",{className:E.a.text},this.props.block.text))}}]),a}(r.a.Component),x=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).handleWordClick=function(e){t.props.onWordClick(e)},t.renderBlockWithTimecodes=function(){return{component:_,editable:!1,props:{showSpeakers:t.props.showSpeakers,showTimecodes:t.props.showTimecodes,timecodeOffset:t.props.timecodeOffset,editorState:t.props.editorState,setEditorNewContentState:t.props.setEditorNewContentState,setEditorNewContentStateSpeakersUpdate:t.props.setEditorNewContentStateSpeakersUpdate,onWordClick:t.handleWordClick,handleAnalyticsEvents:t.props.handleAnalyticsEvents,isEditable:t.props.isEditable}}},t.handleOnChange=function(e){t.props.onChange(e)},t}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(t){return t.editorState!==this.props.editorState||t.isEditable!==this.props.isEditable}},{key:"render",value:function(){return r.a.createElement(h.Editor,{editorState:this.props.editorState,onChange:this.handleOnChange,stripPastedStyles:!0,blockRendererFn:this.renderBlockWithTimecodes,handleKeyCommand:this.props.handleKeyCommand,keyBindingFn:this.props.customKeyBindingFn,spellCheck:this.props.spellCheck})}}]),a}(r.a.Component),T=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).generateConfidence=function(t){return t.confidence?t.confidence>.6?"high":"low":"high"},t.generatePreviousTimes=function(t){for(var e="",a=0;a<t.start;a++)e+="".concat(a," ");if(t.start%1>0){var n=Math.floor(t.start%1*4)/4;e+=" ".concat(Math.floor(t.start)+n)}return e},t}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(t){return t.decoratedText!==this.props.decoratedText}},{key:"render",value:function(){var t=this.props.entityKey?this.props.contentState.getEntity(this.props.entityKey).getData():{};return r.a.createElement("span",{"data-start":t.start,"data-end":t.end,"data-confidence":this.generateConfidence(t),"data-prev-times":this.generatePreviousTimes(t),"data-entity-key":t.key,className:"Word"},this.props.children)}}]),a}(n.Component),O=function(t,e){var a=0;return t.map((function(t){var n={start:t.start,end:t.end,confidence:t.confidence,text:t[e],offset:a,length:t[e].length,key:Math.random().toString(36).substring(6)};return a=a+t[e].length+1,n}))};var P=function(t,e){return function(t){var e=t[0].speaker,a=[],n={words:[],text:"",speaker:""};return t.forEach((function(t){e===t.speaker?(n.words.push(t),n.text+=t.punct+" ",n.speaker=e):(e=t.speaker,n.text=n.text.trim(),a.push(n),(n={words:[],text:"",speaker:"U_UKN"}).words.push(t),n.text+=t.punct+" ")})),a.push(n),a}(function(t,e){var a=[];return t.forEach((function(t){var n,r=function(t,e){var a=e.find((function(e){var a=e.start+e.duration;return t.start>=e.start&&t.end<=a}));return void 0===a?{"@type":"Segment",speaker:{"@id":"UKN",gender:"U"}}:a}(t,e);t.speaker=(n=r.speaker).gender+"_"+n["@id"],a.push(t)})),a}(t,e.segments))},j=function(t){var e,a=[],n=null;return void 0!==t.retval?(e=t.retval.words,void 0!==t.retval.segmentation&&(n=t.retval.segmentation)):(e=t.words,void 0!==t.segmentation&&(n=t.segmentation)),(null===n?function(t){var e=[],a={words:[],text:[]};return t.forEach((function(t){/[.?!]/.test(t.punct)?(a.words.push(t),a.text.push(t.punct),a.text=a.text.join(" "),e.push(a),a={words:[],text:[]}):(a.words.push(t),a.text.push(t.punct))})),e}(e):P(e,n)).forEach((function(t,e){if(void 0!==t.words[0]){var r="TBC ".concat(e);null!==n&&(r=t.speaker);var o={text:t.text,type:"paragraph",data:{speaker:r,words:t.words,start:t.words[0].start,checked:!1},entityRanges:O(t.words,"punct")};a.push(o)}})),a},B=function(t){var e=[];return function(t){var e=[],a={words:[],text:[]};return t.forEach((function(t){t.paragraph.forEach((function(t){t.line.forEach((function(t){var n={text:t.text,start:t.startTime,end:t.endTime};/[.?!]/.test(t.text)?(a.words.push(n),a.text.push(t.text),e.push(a),a={words:[],text:[]}):(a.words.push(n),a.text.push(t.text))}))}))})),e}(t.text).forEach((function(t,a){var n={text:t.text.join(" "),type:"paragraph",data:{speaker:"TBC ".concat(a),words:t.words,start:t.words[0].start},entityRanges:O(t.words,"text")};e.push(n)})),e},R=function(t,e){for(var a in e){var n=e[a],r=parseFloat(t);if(r>=n.start&r<n.end)return n.name}return"UNK"},A=function(t){var e=[];return function(t,e,a){var n,r=[],o={words:[],text:[],speaker:""},s=R(t[0].start,e),i=!1;return t.forEach((function(t){((n=R(t.start,e))!==s||o.words.length>a&&i)&&(o.speaker=s,r.push(o),s=n,o={words:[],text:[]}),o.words.push(t),o.text.push(t.punct),i=!!/[.?!]/.test(t.punct)})),o.speaker=s,r.push(o),r}(function(t){var e=[];return t.forEach((function(t){/[.?!]/.test(t.name)?(e[e.length-1].name=e[e.length-1].name+t.name,e[e.length-1].duration=(parseFloat(e[e.length-1].duration)+parseFloat(t.duration)).toString()):e.push(t)})),e}(t.words).map((function(t,e){return{start:t.time,end:(parseFloat(t.time)+parseFloat(t.duration)).toString(),confidence:t.confidence,word:t.name.toLowerCase().replace(/[.?!]/g,""),punct:t.name,index:e}})),t.speakers.map((function(t){return{start:parseFloat(t.time),end:parseFloat(t.time)+parseFloat(t.duration),name:t.name}})),150).forEach((function(t){var a=t.words[0].start,n={text:t.text.join(" "),type:"paragraph",data:{speaker:t.speaker,words:t.words,start:a},entityRanges:O(t.words,"punct")};e.push(n)})),e},M=a(41),D=function(t,e){var a=parseFloat(t.start_time),n=parseFloat(t.end_time),r=e.find((function(t){return a>=parseFloat(t.start_time)&&n<=parseFloat(t.end_time)}));return void 0===r?"UKN":r.speaker_label.replace("spk_","")},N=function(t,e){return function(t){var e=[],a="";return t.forEach((function(t){t.speaker_label===a?e[e.length-1].words.push(t):(a=t.speaker_label,e.push({speaker:t.speaker_label,words:[t]}))})),e}(function(t,e){return t.map((function(t){return Object.assign(t,{speaker_label:D(t,e)})}))}(t,e.segments))},I=function(t){return/punctuation/.test(t.type)?Object.assign(t.alternatives[0],{confidence:1}):t.alternatives.reduce((function(t,e){return parseFloat(t.confidence)>parseFloat(e.confidence)?t:e}))},F=function(t){var e=I(t);return{start:parseFloat(t.start_time),end:parseFloat(t.end_time),text:e.content,confidence:parseFloat(e.confidence)}},U=function(t){var e=[];return t.map((function(a,n){return"punctuation"===a.type?(e.push(n-1),function(t,e){var a=t.alternatives[0].content;return Object(M.a)(Object(M.a)({},e),{},{alternatives:e.alternatives.map((function(t){return Object(M.a)(Object(M.a)({},t),{},{content:t.content+(e=a,e.replace(/^\s/,""))});var e}))})}(a,t[n-1])):a})).filter((function(t,a){return!e.includes(a)}))},W=function(t){var e=[],a=t.results.items,n=t.results.speaker_labels,r=U(a);return("undefined"!=typeof n?function(t,e){return N(t,e).map((function(t){return{words:t.words.map(F),text:t.words.map((function(t){return I(t).content})),speaker:t.speaker}}))}(r,n):function(t){var e=[],a={words:[],text:[]};return t.forEach((function(t){var n=I(t).content,r=F(t);/[.?!]/.test(n)?(a.words.push(r),a.text.push(n),e.push(a),a={words:[],text:[]}):(a.words.push(r),a.text.push(n))})),e}(r)).forEach((function(t,a){var n={text:t.text.join(" "),type:"paragraph",data:{speaker:t.speaker?"Speaker ".concat(t.speaker):"TBC ".concat(a),words:t.words,start:parseFloat(t.words[0].start)},entityRanges:O(t.words,"text")};e.push(n)})),e},K=function(t){var e,a,n=function(t){var e=[];return t.forEach((function(t){e.push(t.alternatives[0].timestamps.map((function(t){return{text:t[0],start:t[1],end:t[2]}})))})),e}(t.results[0].results);return function(t){var e=[];return t.forEach((function(t){var a={text:t.map((function(t){return t.text})).join(" "),type:"paragraph",data:{speaker:t[0].speaker,words:t,start:t[0].start},entityRanges:O(t,"text")};e.push(a)})),e}((e=n,a=t.results[0].speaker_labels,e.map((function(t){return t.map((function(t){return t.speaker=function(t,e){var a=e.find((function(e){var a=e.from,n=e.to;return t.start===a&&t.end===n}));return void 0===a?"UKN":"S_".concat(a.speaker)}(t,a),t}))}))))};var V=function(t,e){return function(t,e){var a=[],n="UKN",r=0,o=0,s={words:[],text:"",speaker:""};return t.forEach((function(t){(n=function(t,e){return e.find((function(e){if(t.start>=e.start&&t.end<=e.end)return e}))}(t,e))&&((r=e.indexOf(n))===o?(s.words.push(t),s.text+=t.text+" ",s.speaker=n.speaker):(o=r,s.text.trim(),a.push(s),(s={words:[],text:"",speaker:""}).words.push(t),s.text+=t.text+" ",s.speaker=n.speaker))})),a.push(s),a}(t,e)},L=function(t){var e=t.words,a=t.paragraphs;return(a?V(e,a):function(t){var e=[],a={words:[],text:[]};return t.forEach((function(t){a.words.push(t),a.text.push(t.text),/[.?!]/.test(t.text)&&(a.text=a.text.join(" "),e.push(a),a={words:[],text:[]})})),e}(e)).map((function(t,e){return t.speaker||(t.speaker="TBC ".concat(e)),function(t){var e=t.words;return{text:t.text,type:"paragraph",data:{speaker:t.speaker,words:e,start:e.length>0?e[0].start:0},entityRanges:O(e,"text")}}(t)}))},H=function(t){var e=function t(e){return e.reduce((function(e,a){return e.concat(Array.isArray(a)?t(a):a)}),[])}(t.map((function(t){return t.entityRanges}))),a={};return e.forEach((function(t){a[t.key]={type:"WORD",mutability:"MUTABLE",data:t}})),a},J=function(t,e){var a=parseFloat(t);return void 0!==e&&(a+=parseFloat(e/1e9)),a},G=function(t){var e=[],a={words:[],text:[]};return t.forEach((function(t){var n=function(t){return 0===t.alternatives.length?t[0]:t.alternatives.reduce((function(t,e){return parseFloat(t.confidence)>parseFloat(e.confidence)?t:e}))}(t);a.text.push(n.transcript.trim()),n.words.forEach((function(t){var e,r;a.words.push((e=t,r=n.confidence,{start:J(e.startTime.seconds,e.startTime.nanos),end:J(e.endTime.seconds,e.endTime.nanos),text:e.word,confidence:r}))})),e.push(a),a={words:[],text:[]}})),e},z=function(t){var e=[];return G(t.results).forEach((function(t,a){var n={text:t.text.join(" "),type:"paragraph",data:{speaker:t.speaker?"Speaker ".concat(t.speaker):"TBC ".concat(a),words:t.words,start:parseFloat(t.words[0].start)},entityRanges:O(t.words,"text")};e.push(n)})),e},q=function(t,e){var a;switch(e){case"bbckaldi":return{blocks:a=j(t),entityMap:H(a)};case"autoedit2":return{blocks:a=B(t),entityMap:H(a)};case"speechmatics":return{blocks:a=A(t),entityMap:H(a)};case"ibm":return{blocks:a=K(t),entityMap:H(a)};case"draftjs":return t;case"amazontranscribe":return{blocks:a=W(t),entityMap:H(a)};case"digitalpaperedit":return{blocks:a=L(t),entityMap:H(a)};case"google-stt":return{blocks:a=z(t),entityMap:H(a)};default:console.error("Did not recognize the stt engine.")}},Z=function(t){return t.blocks.map((function(t){return"".concat(t.text)})).join("\n\n")},Q=a(22),X=function(t,e){return function(t,e){var a=new Q.Document({creator:"Test",description:"Test Description",title:e}),n=new Q.TextRun(e),r=new Q.Paragraph;r.addRun(n),r.heading1().center(),a.addParagraph(r);var o=new Q.Paragraph;a.addParagraph(o),t.blocks.forEach((function(t){var e=new Q.Paragraph(b(t.data.words[0].start)),n=new Q.TextRun(t.data.speaker).bold().tab(),r=new Q.TextRun("").break();e.addRun(n),a.addParagraph(e);var o=new Q.Paragraph(t.text);o.addRun(r),a.addParagraph(o)})),(new Q.Packer).toBlob(a).then((function(t){var a="".concat(e,".docx"),n=document.createElement("a");return n.href=window.URL.createObjectURL(t),n.download=a,n.click(),t}))}(t,e)};var Y=function(t){return t.blocks.map((function(t){return"".concat(t.data.speaker," \t [").concat(b(t.data.start),"] \t ").concat(t.text)})).join("\n\n")},$=function(t){var e={words:[],paragraphs:[]};return t.blocks.forEach((function(t,a){if(void 0!==t.data.words){var n={id:a,start:t.data.words[0].start,end:t.data.words[t.data.words.length-1].end,speaker:t.data.speaker};e.paragraphs.push(n);var r=t.data.words.map((function(t){var e={id:t.index,start:t.start,end:t.end,text:null};return t.text?e.text=t.text:(t.punct||t.word)&&(e.text=t.punct),e}));e.words=e.words.concat(r)}})),e},tt=a(95),et=a.n(tt);var at=function(t,e){var a=null;void 0!==e&&(a=e);var n={newline_boundaries:!0,html_boundaries:!1,sanitize:!1,allowed_tags:!1,abbreviations:a};return et.a.sentences(t,n).join("\n")};var nt=function(t){return t.replace(/\n/g,"\n\n")};var rt=function(t){return t.replace(/\n /g,"\n")};var ot=function(t,e){return t.split("\n\n").map((function(t){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,a=0,n=t.map((function(t,n,r){if((a+=t.length+1)<=e){if(void 0!==r[n+1]){var o=r[n+1].length;return a+o<e?t:(a=0,"".concat(t,"\n"))}return t}return a=0,"".concat(t,"\n")}));return n}(t.split(" "),e)})).map((function(t){return t.join(" ")})).map((function(t){return rt(t)})).join("\n\n")};var st=function(t){return t.map((function(t){return t.replace(/^\s+/g,"")}))};var it=function(t){var e=t.split("\n"),a=0,n=e.map((function(t){return""===t?t:0===a?(a+=1,"."===t[t.length-1][0]?t+"\n\n":t+"\n"):1===a?(a=0,t+"\n\n"):void 0}));return n=(n=(n=st(n)).filter((function(t){return 0!==t.length}))).join("").trim()};function ct(t){return t.map((function(t){return t.text})).join(" ")}var lt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,a=t;"object"===typeof t&&(a=ct(t));var n=at(a),r=nt(n),o=ot(r,e),s=it(o);return s},pt=/&/g,ut=/</g,dt=/>/g,ht=function(t){return t.replace(pt,"&amp;").replace(ut,"&lt;").replace(dt,"&gt;")},mt=function(t){return new Date(1e3*t.toFixed(3)).toISOString().substr(11,12)},ft=function(t){var e='<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n    <tt xmlns="http://www.w3.org/ns/ttml"\n    xmlns:ttp="http://www.w3.org/ns/ttml#parameter"\n    ttp:timeBase="media"\n    xmlns:m608="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt#cea608"\n    xmlns:smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"\n    xmlns:ttm="http://www.w3.org/ns/ttml#metadata">\n    <head>\n    <metadata>\n    <smpte:information m608:captionService="F1C1CC" m608:channel="cc1"/>\n    </metadata>\n    <styling></styling>\n    <layout></layout>\n    </head>\n    <body><div>';return t.forEach((function(t){e+='<p begin="'.concat(mt(parseFloat(t.start)),'" end="').concat(mt(parseFloat(t.end)),'">').concat(ht(t.text).replace(/\n/g,"<br />"),"</p>\n")})),e+="</div>\n</body>\n</tt>"},vt=a(96),yt=a.n(vt),gt=function(t,e){return yt()(Math.round(t),e,!1).toString().replace(/^00/,"01")},kt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-GB",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,n='<?xml version="1.0" encoding="UTF-8"?>\n        <tt\n          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n          xmlns="http://www.w3.org/ns/ttml"\n          xmlns:tt="http://www.w3.org/ns/ttml"\n          xmlns:tts="http://www.w3.org/ns/ttml#styling"\n          xmlns:ttp="http://www.w3.org/ns/ttml#parameter"\n          xml:lang="'.concat(e,'"\n          ttp:timeBase="smpte"\n          ttp:frameRate="').concat(a,'"\n          ttp:frameRateMultiplier="').concat(25===a?"1 1":"999 1000",'"\n          ttp:dropMode="nonDrop"\n        >\n        <head>\n          <styling>\n            <style\n              xml:id="normal"\n              tts:fontFamily="sansSerif"\n              tts:fontWeight="normal"\n              tts:fontStyle="normal"\n              tts:color="white"\n              tts:fontSize="100%"\n            />\n          </styling>\n          <layout>\n            <region\n              xml:id="bottom"\n              tts:origin="0% 85%"\n              tts:extent="100% 15%"\n              tts:textAlign="center"\n              tts:displayAlign="after"\n            />\n          </layout>\n        </head>\n        <body style="normal" region="bottom">\n          <div begin="-01:00:00:00">');return t.forEach((function(t){n+='<p begin="'.concat(gt(parseFloat(t.start)*a,a),'" end="').concat(gt(parseFloat(t.end)*a,a),'">').concat(ht(t.text).replace(/\n/g,"<br />"),"</p>\n")})),n+="</div>\n</body>\n</tt>"},bt=function(t){var e='<?xml version="1.0" encoding="UTF-8"?>\n    <tt xmlns="http://www.w3.org/ns/ttml">\n    <head></head>\n    <body>\n    <div>';return t.forEach((function(t){e+='<p begin="'.concat(mt(parseFloat(t.start)),'" end="').concat(mt(parseFloat(t.end)),'">').concat(ht(t.text).replace(/\n/g,"<br />"),"</p>\n")})),e+="</div>\n</body>\n</tt>"},wt=function(t){var e="";return t.forEach((function(t,a){e+="".concat(a+1,"\n").concat(mt(parseFloat(t.start)).replace(".",",")," --\x3e ").concat(mt(parseFloat(t.end)).replace(".",","),"\n").concat(t.text.trim(),"\n\n")})),e},Et=function(t){var e="WEBVTT\n\n";return t.forEach((function(t,a){e+="".concat(a+1,"\n").concat(mt(parseFloat(t.start))," --\x3e ").concat(mt(parseFloat(t.end)),"\n").concat(t.text,"\n\n")})),e};var Ct=function(t){var e="N, In, Out, Text\n";return t.forEach((function(t,a){e+="".concat(a+1,","),e+='"'.concat(t.start,'","').concat(t.end,'",'),e+='"'.concat(t.text.replace(/\n/g,"\r\n"),'"\n')})),e};var St=function(t){var e=t.words,a=t.type,n=t.numberOfCharPerLine,r=function(t,e){return function(t,e){var a=0,n=0;return e.map((function(e){n+=e.trim().replace(/\n /g,"").replace(/\n/g," ").split(" ").length;var r={text:e.trim()};return r.start=t[a].start,r.end=t[n-1].end,a=n,r}))}(t,function(t){var e=t.split("\n\n");return e=e.map((function(t){return t.trim()}))}(lt(t,e)))}(e,n);if("string"===typeof e)return lt(e,n);switch(a){case"premiere":return ft(r);case"ttml":return bt(r);case"itt":return kt(r);case"srt":return wt(r);case"vtt":return Et(r);case"json":return r;case"csv":return Ct(r);case"pre-segment-txt":case"txt":return lt(e,n);default:return{ttml:bt(r),premiere:ft(r),itt:kt(r),srt:wt(r),vtt:Et(r),json:r}}},_t=function(t,e,a){switch(e){case"draftjs":return{data:t,ext:"json"};case"txt":return{data:Z(t),ext:"txt"};case"docx":return{data:X(t,a),ext:"docx"};case"txtspeakertimecodes":return{data:Y(t),ext:"txt"};case"digitalpaperedit":return{data:$(t),ext:"json"};case"srt":var n=$(t).words;return{data:St({words:n,type:"srt",numberOfCharPerLine:35}),ext:"srt"};case"premiereTTML":n=$(t).words;return{data:St({words:n,type:"premiere"}),ext:"ttml"};case"ttml":n=$(t).words;return{data:St({words:n,type:"ttml"}),ext:"ttml"};case"itt":n=$(t).words;return{data:St({words:n,type:"itt"}),ext:"itt"};case"csv":n=$(t).words;return{data:St({words:n,type:"csv"}),ext:"csv"};case"vtt":n=$(t).words;return{data:St({words:n,type:"vtt"}),ext:"vtt"};case"json-captions":n=$(t).words;return{data:St({words:n,type:"json"}),ext:"json"};case"pre-segment-txt":n=$(t).words;return{data:St({words:n,type:"pre-segment-txt"}),ext:"txt"};default:console.error("Did not recognise the export format")}},xt=a(34),Tt=a(97),Ot=a(98),Pt=a.n(Ot),jt=a(63),Bt=a.n(jt);function Rt(t){if(t){var e=t.toLowerCase().trim().replace(/[^a-z|0-9|.]+/g,"");if(!isNaN(e)){var a=e.replace(/\.$/,"");if(""!==a)return Object(Tt.toWords)(a)}return e}return t}var At,Mt=function(t,e){var a=t.map((function(t){return Rt(t.word)})),n=e.map((function(t){return Rt(t)})),r=[];return e.forEach((function(){r.push({})})),new Pt.a.SequenceMatcher(null,a,n).getOpcodes().forEach((function(a){var n=a[0],o=a[1],s=a[2],i=a[3];if("equal"===n){var c=t.slice(o,s);r.splice.apply(r,[i,c.length].concat(Object(xt.a)(c)))}r.forEach((function(t,a){t.word=e[a]}))})),function(t){var e=function(t){return t.map((function(e,a){var n=e;if("start"in e&&0!==a){var r=t[a-1];"end"in r&&(n={start:r.end,end:e.end,word:e.word})}if("end"in e&&a!==t.length-1){var o=t[a+1];"start"in o&&(n={end:o.start,start:e.start,word:e.word})}return n}))}(t),a=Object(xt.a)(Array(e.length).keys()),n=[],r=[],o=[],s=[];e.forEach((function(t,e){"start"in t&&(n.push(e),o.push(t.start)),"end"in t&&(r.push(e),s.push(t.end))}));var i=Bt.a.linear(a,n,o),c=Bt.a.linear(a,r,s);return function(t){return t.map((function(t,e,a){if(0!=e){var n=a[e-1],r=t;return n.end>r.start&&(t.start=n.end),t}return t}))}(e.map((function(t,e){return"start"in t||(t.start=i[e]),"end"in t||(t.end=c[e]),t})))}(r)},Dt=function(t,e){var a=function(t){var e=[];for(var a in t.blocks){var n=t.blocks[a].text.match(/\S+/g)||[];e=e.concat(n)}return e}(t),n=e.entityMap,r=[];for(var o in n)r.push({start:parseFloat(n[o].data.start),end:parseFloat(n[o].data.end),word:n[o].data.text});return function(t,e){var a=[],n=0;for(var r in t.blocks){var o=t.blocks[r],s=(o.text.match(/\S+/g)||[]).length,i=e.slice(n,n+s),c=o.data.speaker;c||(console.log("speaker",c,o),c="U_UKN");var l={text:i.map((function(t){return t.punct})).join(" "),type:"paragraph",data:{speaker:c,words:i,start:i[0].start},entityRanges:O(i,"punct")};a.push(l),n+=s}return{blocks:a,entityMap:H(a)}}(t,Mt(r,a).map((function(t,e){return a=t.start,n=t.end,r=0,o=t.word,s=e,{start:a,end:n,confidence:r,word:o.toLowerCase().replace(/[.?!]/g,""),punct:o,index:s};var a,n,r,o,s})))},Nt=a(99),It=a.n(Nt),Ft=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).shouldComponentUpdate=function(t,e){return t!==n.props||e!==n.state},n.onChange=function(t){if(n.state.editorState.getCurrentContent()!==t.getCurrentContent()){if(n.props.isPauseWhileTypingOn&&n.props.isPlaying()){n.props.playMedia(!1);clearTimeout(n.plauseWhileTypingTimeOut),n.plauseWhileTypingTimeOut=setTimeout(function(){this.props.playMedia(!0)}.bind(Object(d.a)(n)),3e3)}void 0!==n.saveTimer&&clearTimeout(n.saveTimer),n.saveTimer=setTimeout((function(){n.setState((function(){return{editorState:t}}),(function(){var t=n.getEditorContent(n.props.autoSaveContentType,n.props.title);n.props.handleAutoSaveChanges(t)}))}),1e3)}n.props.isEditable&&n.setState({editorState:t})},n.handleDoubleClick=function(t){for(var e=t.nativeEvent.target;!e.hasAttribute("data-start")&&e.parentElement;)e=e.parentElement;if(e.hasAttribute("data-start")){var a=parseFloat(e.getAttribute("data-start"));n.props.onWordClick(a)}},n.getWordCount=function(t){var e=t.getCurrentContent().getPlainText("").replace(/(?:\r\n|\r|\n)/g," ").trim().match(/\S+/g);return e?e.length:0},n.setEditorContentState=function(t){var e=Object(h.convertFromRaw)(t),a=h.EditorState.createWithContent(e,Ut);void 0!==n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TimedTextEditor",action:"setEditorContentState",name:"getWordCount",value:n.getWordCount(a)}),n.setState({editorState:a},(function(){n.forceRenderDecorator()}))},n.forceRenderDecorator=function(){console.log(">>>>force rerender");var t=n.state.editorState.getCurrentContent(),e=n.state.editorState.getDecorator(),a=h.EditorState.createWithContent(t,e),r=h.EditorState.push(a,t);n.setState({editorState:r})},n.setEditorNewContentState=function(t){var e=n.state.editorState.getDecorator(),a=h.EditorState.createWithContent(t,e),r=h.EditorState.push(a,t);n.setState({editorState:r})},n.setEditorNewContentStateSpeakersUpdate=function(t){var e=n.state.editorState.getDecorator(),a=h.EditorState.createWithContent(t,e),r=h.EditorState.push(a,t);n.setState((function(){return{editorState:r}}),(function(){var t=n.props.autoSaveContentType,e=n.props.title,a=_t(Object(h.convertToRaw)(r.getCurrentContent()),t,e);n.props.handleAutoSaveChanges(a)}))},n.customKeyBindingFn=function(t){return 13===t.keyCode?(console.log("customKeyBindingFn"),"split-paragraph"):!t.altKey||32!==t.keyCode&&32!==t.keyCode&&75!==t.keyCode&&76!==t.keyCode&&74!==t.keyCode&&187!==t.keyCode&&189!==t.keyCode&&82!==t.keyCode&&84!==t.keyCode?Object(h.getDefaultKeyBinding)(t):(t.preventDefault(),"keyboard-shortcuts")},n.handleKeyCommand=function(t){return"split-paragraph"===t&&n.splitParagraph(),"keyboard-shortcuts"===t?"handled":"not-handled"},n.splitParagraph=function(){var t=n.state.editorState.getSelection();if(t.isCollapsed()){var e=n.state.editorState.getCurrentContent(),a=h.Modifier.splitBlock(e,t),r=h.EditorState.push(n.state.editorState,a,"split-block"),o=r.getSelection(),s=e.blockMap.get(a.selectionBefore.getStartKey()),i=s.getData().get("speaker"),c="NA",l=!1,p=s.getEntityAt(t.getStartOffset());if(null===p){var u=n.findClosestEntityKeyToSelectionPoint(t,s);if(p=u.entityKey,l=u.isEndOfParagraph,null===p)return"not-handled"}var d=e.getEntity(p).getData();c=l?d.end:d.start;var m=h.Modifier.mergeBlockData(r.getCurrentContent(),o,{start:c,speaker:i});return n.setEditorNewContentState(m),"handled"}return"not-handled"},n.findClosestEntityKeyToSelectionPoint=function(t,e){var a=null,n=!1,r=t.getStartOffset(),o=e.getLength(),s=o-r;if(0===s){n=!0;for(var i=o;i>0;i--)if(null!==(a=e.getEntityAt(i)))return{entityKey:a,isEndOfParagraph:n}}else for(var c=t.getStartOffset(),l=0;l<s;l++)if(c+=l,null!==(a=e.getEntityAt(c)))return{entityKey:a,isEndOfParagraph:n};return{entityKey:a,isEndOfParagraph:n}},n.getCurrentWord=function(){var t={start:"NA",end:"NA"};if(n.props.transcriptData){var e=n.state.editorState.getCurrentContent(),a=Object(h.convertToRaw)(e).entityMap;for(var r in a){var o=a[r].data;o.start<=n.props.currentTime&&o.end>=n.props.currentTime&&(t.start=o.start,t.end=o.end)}}"NA"!==t.start&&(n.props.isScrollIntoViewOn&&document.querySelector('span.Word[data-start="'.concat(t.start,'"]')).scrollIntoView({block:"nearest",inline:"center"}));return t},n.onWordClick=function(t){n.props.onWordClick(t)},n.state={editorState:h.EditorState.createEmpty()},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(t,e){t.timecodeOffset===this.props.timecodeOffset&&t.showSpeakers===this.props.showSpeakers&&t.showTimecodes===this.props.showTimecodes&&t.isEditable===this.props.isEditable||this.forceRenderDecorator()}},{key:"updateTimestampsForEditorState",value:function(){var t=Object(h.convertToRaw)(this.state.editorState.getCurrentContent()),e=Dt(t,this.state.originalState),a=Object(h.convertFromRaw)(e),n=h.EditorState.push(this.state.editorState,a),r=Object(h.convertToRaw)(a),o=this.state.editorState.getSelection();if(o.getHasFocus()){for(var s={},i=0;i<t.blocks.length;i++)s[t.blocks[i].key]=r.blocks[i].key;var c=o.merge({anchorOffset:o.getAnchorOffset(),anchorKey:s[o.getAnchorKey()],focusOffset:o.getFocusOffset(),focusKey:s[o.getFocusKey()]}),l=h.EditorState.forceSelection(n,c);return this.setState({editorState:l}),l}return this.setState({editorState:n}),n}},{key:"loadData",value:function(){if(null!==this.props.transcriptData){var t=q(this.props.transcriptData,this.props.sttJsonType);this.setState({originalState:Object(h.convertToRaw)(Object(h.convertFromRaw)(t))}),this.setEditorContentState(t)}}},{key:"getEditorContent",value:function(t,e){var a=t||"draftjs",n=this.updateTimestampsForEditorState();return _t(Object(h.convertToRaw)(n.getCurrentContent()),a,e)}},{key:"render",value:function(){var t=this.getCurrentWord(),e=Math.round(4*this.props.currentTime)/4,a=r.a.createElement("section",{className:It.a.editor,onDoubleClick:this.handleDoubleClick},r.a.createElement("style",{scoped:!0},'span.Word[data-start="'.concat(t.start,'"] { background-color: ').concat("#69e3c2","; text-shadow: 0 0 0.01px black }"),'span.Word[data-start="'.concat(t.start,'"]+span { background-color: ').concat("#69e3c2"," }"),'span.Word[data-prev-times~="'.concat(Math.floor(e),'"] { color: ').concat("#767676"," }"),'span.Word[data-prev-times~="'.concat(e,'"] { color: ').concat("#767676"," }"),'span.Word[data-confidence="low"] { border-bottom: '.concat("1px dotted blue"," }")),r.a.createElement(x,{editorState:this.state.editorState,onChange:this.onChange,stripPastedStyles:!0,handleKeyCommand:this.handleKeyCommand,customKeyBindingFn:this.customKeyBindingFn,spellCheck:this.props.spellCheck,showSpeakers:this.props.showSpeakers,showTimecodes:this.props.showTimecodes,timecodeOffset:this.props.timecodeOffset,setEditorNewContentState:this.setEditorNewContentState,setEditorNewContentStateSpeakersUpdate:this.setEditorNewContentStateSpeakersUpdate,onWordClick:this.onWordClick,handleAnalyticsEvents:this.props.handleAnalyticsEvents,isEditable:this.props.isEditable}));return r.a.createElement("section",null,null!==this.props.transcriptData?a:null)}}]),a}(r.a.Component),Ut=new h.CompositeDecorator([{strategy:(At="MUTABLE",function(t,e,a){t.findEntityRanges((function(t){var e=t.getEntity();return null!==e&&a.getEntity(e).getMutability()===At}),e)}),component:T}]),Wt=Ft,Kt=a(100),Vt=a(26),Lt=a.n(Vt),Ht=a(11),Jt=a(10),Gt=a(101),zt=a.n(Gt),qt=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var t=this.props.options.map((function(t,e){return r.a.createElement("option",{key:e,value:t.value},t.label)}));return r.a.createElement("select",{className:zt.a.selectPlayerControl,name:this.props.name,value:this.props.currentValue,onChange:this.props.handleChange},t)}}]),a}(r.a.Component),Zt=a(14),Qt=a.n(Zt),Xt=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).shouldComponentUpdate=function(e){return!Lt()(t.props,e)},t}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:Qt.a.playBackRate,title:"Playback rate: alt - & alt + "},r.a.createElement(qt,{options:this.props.playbackRateOptions,currentValue:this.props.playbackRate.toString(),name:"playbackRate",handleChange:this.props.handlePlayBackRateChange}))}}]),a}(r.a.Component),Yt=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).shouldComponentUpdate=function(e){return!Lt()(t.props,e)},t.handleClick=function(e){t.props.promptSetCurrentTime(e)},t}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:Qt.a.timeBox},r.a.createElement("span",{title:"Current time: alt t",className:Qt.a.currentTime,onClick:this.handleClick},this.props.currentTime),r.a.createElement("span",{className:Qt.a.separator},"|"),r.a.createElement("span",{title:"Clip duration",className:Qt.a.duration},this.props.duration))}}]),a}(r.a.Component),$t=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).shouldComponentUpdate=function(e){return!Lt()(t.props,e)},t.setIntervalHelperBackward=function(){t.interval=setInterval((function(){t.props.skipBackward()}),300)},t.setIntervalHelperForward=function(){t.interval=setInterval((function(){t.props.skipForward()}),300)},t.clearIntervalHelper=function(){clearInterval(t.interval)},t}return Object(c.a)(a,[{key:"render",value:function(){var t=this,e="pictureInPictureEnabled"in document?r.a.createElement("button",{value:"Picture-in-picture",title:"Picture-in-picture",className:"".concat(Qt.a.playerButton," ").concat(Qt.a.pip),onClick:this.props.pictureInPicture},r.a.createElement(Jt.a,{icon:Ht.l})):null;return r.a.createElement("div",{className:Qt.a.playerControls},r.a.createElement(Yt,{promptSetCurrentTime:this.props.promptSetCurrentTime,currentTime:this.props.currentTime,duration:this.props.duration}),r.a.createElement("div",{className:Qt.a.btnsGroup},r.a.createElement("button",{value:"seek backward by a set interval: alt r",title:"seek backward by a set interval: alt r",className:Qt.a.playerButton,onClick:this.props.rollback},r.a.createElement(Jt.a,{icon:Ht.m})),r.a.createElement("button",{value:"seek backward: alt j",title:"seek backward: alt j",className:Qt.a.playerButton,onMouseDown:this.setIntervalHelperBackward,onMouseUp:this.clearIntervalHelper,onClick:function(){t.props.skipBackward()}},r.a.createElement(Jt.a,{icon:Ht.a})),r.a.createElement("button",{value:"Play/Pause: alt k",title:"Play/Pause: alt k",className:Qt.a.playerButton,onClick:this.props.playMedia},this.props.isPlaying?r.a.createElement(Jt.a,{icon:Ht.g}):r.a.createElement(Jt.a,{icon:Ht.h})),r.a.createElement("button",{value:"seek forward: alt l",title:"seek forward: alt l",className:Qt.a.playerButton,onMouseDown:this.setIntervalHelperForward,onMouseUp:this.clearIntervalHelper,onClick:function(){t.props.skipForward()}},r.a.createElement(Jt.a,{icon:Ht.c}))),r.a.createElement("div",{className:Qt.a.btnsGroup},r.a.createElement(Xt,{playbackRateOptions:this.props.playbackRateOptions,playbackRate:this.props.playbackRate,name:"playbackRate",handlePlayBackRateChange:this.props.setPlayBackRate}),e,r.a.createElement("button",{value:"Toggle Sound",title:"Toggle Sound",className:Qt.a.playerButton,onClick:this.props.handleMuteVolume},this.props.isMute?r.a.createElement(Jt.a,{icon:Ht.o}):r.a.createElement(Jt.a,{icon:Ht.p}))))}}]),a}(r.a.Component),te=a(65),ee=a.n(te),ae=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).shouldComponentUpdate=function(e){return!Lt()(t.props,e)},t.handleOnChange=function(e){t.props.buttonClick(e)},t}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:ee.a.wrapper},r.a.createElement("input",{type:"range",className:ee.a.bar,onChange:this.handleOnChange,value:this.props.value,min:"0",max:this.props.max.toString()}))}}]),a}(r.a.Component);ae.defaultProps={value:"0",max:"0"};var ne=ae;var re=function(t){return{"alt+k":{priority:1,handler:function(){t.togglePlayMedia(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+k",name:"togglePlayMedia",value:"na"})},displayKeyCombination:"alt + k",label:"Play Media"},"alt+l":{priority:1,handler:function(){t.skipForward(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+l",name:"skipForward",value:"na"})},displayKeyCombination:"alt + l",label:"Fast Forward"},"alt+j":{priority:1,handler:function(){t.skipBackward(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+j",name:"skipBackward",value:"na"})},displayKeyCombination:"alt + j",label:"Rewind"},"alt+-":{priority:1,handler:function(){t.decreasePlaybackRate(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+-",name:"decreasePlaybackRate",value:"na"})},displayKeyCombination:"alt + -",label:"Decrease Playback Speed"},"alt+=":{priority:1,handler:function(){t.increasePlaybackRate(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+plus",name:"increasePlaybackRate",value:"na"})},displayKeyCombination:"alt + +",label:"Increase Playback Speed"},"alt+r":{priority:1,handler:function(){t.rollBack(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+r",name:"rollBack",value:"na"})},displayKeyCombination:"alt + r",label:"Roll Back"},"alt+t":{priority:1,handler:function(){t.promptSetCurrentTime(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+t",name:"promptSetCurrentTime",value:"na"})},displayKeyCombination:"alt + t",label:"set current time"}}},oe=a(42),se=a.n(oe),ie=[{value:.2,label:"0.2"},{value:.25,label:"0.25"},{value:.5,label:"0.5"},{value:.75,label:"0.75"},{value:1,label:"1"},{value:1.25,label:"1.25"},{value:1.5,label:"1.5"},{value:1.75,label:"1.75"},{value:2,label:"2"},{value:2.5,label:"2.5"},{value:3,label:"3"},{value:3.5,label:"3.5"}],ce=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).hot_keys=re(Object(d.a)(n)),n.setCurrentTime=function(t){if(""!==t&&null!==t){var e=k(t),a=n.props.videoRef.current;4===a.readyState&&(a.currentTime=e,n.playMedia())}},n.promptSetCurrentTime=function(){var t=prompt("Jump to time - hh:mm:ss:ff hh:mm:ss mm:ss m:ss m.ss seconds");n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"promptSetCurrentTime",name:"userTimecodeValue",value:t}),null!==t&&(t.includes(":")&&(t=k(t)),0!==n.state.timecodeOffset&&(t-=n.state.timecodeOffset),n.setCurrentTime(t))},n.setTimeCodeOffset=function(t){if(n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"setTimeCodeOffset",name:"timecodeOffsetValue",value:t}),""!==t&&null!==t){var e=t;t.includes(":")&&(e=k(t),n.setState({timecodeOffset:e}))}},n.rollBack=function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"rollBack",name:"rollBackValue",value:n.state.rollBackValueInSeconds});var t=n.props.videoRef.current.currentTime-n.state.rollBackValueInSeconds;n.setCurrentTime(t)},n.handlePlayBackRateChange=function(t){n.setPlayBackRate(parseFloat(t.target.value))},n.setPlayBackRate=function(t){t>=.2&&t<=3.5&&n.setState({playbackRate:t},(function(){n.props.videoRef.current.playbackRate=t,n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"setPlayBackRate",name:"playbackRateNewValue",value:t})}))},n.decreasePlaybackRate=function(){var t=Object(xt.a)(ie).reverse().find((function(t){return t.value<n.state.playbackRate})),e=t?t.value:.2;n.setPlayBackRate(e)},n.increasePlaybackRate=function(){var t=Object(xt.a)(ie).find((function(t){return t.value>n.state.playbackRate})),e=t?t.value:3.5;n.setPlayBackRate(e)},n.handleChangeReplayRollbackValue=function(t){n.setState({rollBackValueInSeconds:t.target.value})},n.handleMuteVolume=function(){n.props.videoRef.current.volume>0?(n.props.videoRef.current.volume=0,n.setState({isMute:!0})):(n.props.videoRef.current.volume=1,n.setState({isMute:!1}))},n.isPlaying=function(){return!n.props.videoRef.current.paused},n.pauseMedia=function(){n.setState({isPlaying:!1},(function(){return n.props.videoRef.current.pause()})),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"pauseMedia",name:"pauseMedia",value:f(n.props.videoRef.current.currentTime)})},n.playMedia=function(){n.setState({isPlaying:!0},(function(){return n.props.videoRef.current.play()})),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"playMedia",name:"playMedia",value:f(n.props.videoRef.current.currentTime)})},n.togglePlayMedia=function(){n.state.isPlaying?n.pauseMedia():n.playMedia()},n.skipForward=function(){var t=n.props.videoRef.current.currentTime,e=Number((t+10).toFixed(1));n.setCurrentTime(e)},n.skipBackward=function(){var t=n.props.videoRef.current.currentTime,e=Number((t-10).toFixed(1));n.setCurrentTime(e)},n.handleProgressBarClick=function(t){var e=t.target.value;n.setCurrentTime(e),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handleProgressBarClick",name:"roundNewCurrentTime",value:e})},n.getMediaCurrentTime=function(){return f(n.props.videoRef.current.currentTime+n.state.timecodeOffset)},n.handlePictureInPicture=function(){void 0!==document.pictureInPictureElement?document.pictureInPictureElement?(n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-off"}),document.exitPictureInPicture().catch((function(t){console.error("Video failed to leave Picture-in-Picture mode",t),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-off-error"})}))):(n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-on"}),n.props.videoRef.current.requestPictureInPicture().catch((function(t){console.error("Video failed to enter Picture-in-Picture mode",t),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-on-error"})}))):(alert("Picture in Picture not supported in this browser, try chrome."),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"picture-in-picture-not-supported"}))},n.getProgressBarMax=function(){return parseInt(n.props.videoRef.current.duration).toString()},n.getProgressBarValue=function(){return parseInt(n.props.videoRef.current.currentTime).toString()},n.state={playbackRate:1,rollBackValueInSeconds:n.props.rollBackValueInSeconds,timecodeOffset:n.props.timecodeOffset,hotKeys:re(Object(d.a)(n)),isPlaying:!1,playbackRateOptions:ie,previewIsDisplayed:!0,isMute:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.hookSeek(this.setCurrentTime),this.props.hookPlayMedia(this.togglePlayMedia),this.props.hookIsPlaying(this.isPlaying)}},{key:"shouldComponentUpdate",value:function(t,e){return t.rollBackValueInSeconds!==this.state.rollBackValueInSeconds||(t.timecodeOffset!==this.state.timecodeOffset||(t.currentTime!==this.props.currentTime||(e.playbackRate!==this.state.playbackRate||(t.mediaDuration!==this.props.mediaDuration||e.isMute!==this.state.isMute))))}},{key:"render",value:function(){var t=r.a.createElement(ne,{max:this.getProgressBarMax(),value:this.getProgressBarValue(),buttonClick:this.handleProgressBarClick}),e=r.a.createElement("div",{className:se.a.controlsSection},this.props.title?r.a.createElement("h2",{className:se.a.title,title:this.props.title},this.props.title):null,r.a.createElement($t,{playMedia:this.togglePlayMedia.bind(this),isPlaying:this.state.isPlaying,isMute:this.state.isMute,playbackRate:this.state.playbackRate,skipBackward:this.skipBackward.bind(this),skipForward:this.skipForward.bind(this),rollback:this.rollBack,currentTime:this.getMediaCurrentTime(),duration:this.props.mediaDuration,onSetCurrentTime:"",onSetTimecodeOffset:"",promptSetCurrentTime:this.promptSetCurrentTime.bind(this),setTimeCodeOffset:this.setTimeCodeOffset.bind(this),timecodeOffset:f(this.state.timecodeOffset),handleMuteVolume:this.handleMuteVolume.bind(this),setPlayBackRate:this.handlePlayBackRateChange.bind(this),playbackRateOptions:this.state.playbackRateOptions,pictureInPicture:this.handlePictureInPicture}),this.props.mediaUrl?t:null);return r.a.createElement("section",{className:se.a.topSection},r.a.createElement("div",{className:se.a.playerSection},this.props.mediaUrl?e:null))}}],[{key:"getDerivedStateFromProps",value:function(t){if(null!==t.timecodeOffset){var e=t.timecodeOffset;return"string"===typeof e&&e.includes(":")&&!e.includes("NaN")&&(e=k(t.timecodeOffset)),{timecodeOffset:e,rollBackValueInSeconds:t.rollBackValueInSeconds}}return null}}]),a}(r.a.Component),le=Object(Kt.hotkeys)(ce),pe=a(102),ue=a.n(pe),de=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).handlePlayMedia=function(){if(null!==t.props.videoRef.current)return t.props.videoRef.current.paused?t.props.videoRef.current.play():t.props.videoRef.current.pause()},t}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(t){return t.previewIsDisplayed!==this.props.previewIsDisplayed||t.mediaUrl!==this.props.mediaUrl}},{key:"render",value:function(){var t=this.props.previewIsDisplayed?"inline":"none";return r.a.createElement("video",{id:"video",playsInline:!0,src:this.props.mediaUrl,onTimeUpdate:this.props.onTimeUpdate,"data-testid":"media-player-id",onClick:this.handlePlayMedia,onLoadedData:this.props.onLoadedDataGetDuration,ref:this.props.videoRef,className:ue.a.videoEl,preload:"auto",style:{display:t}})}}]),a}(r.a.Component),he=a(48),me=a.n(he),fe=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:me.a.switchContainer},r.a.createElement("label",{className:me.a.switch},r.a.createElement("input",{type:"checkbox",defaultChecked:this.props.defaultValue,onChange:this.props.handleToggle}),r.a.createElement("span",{className:me.a.slider})))}}]),a}(r.a.Component),ve=a(43),ye=a.n(ve),ge=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).handleChange=function(t){n.setState({timecodeOffset:t.target.value})},n.resetTimecodeOffset=function(){void 0!==n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TimecodeOffset",action:"resetTimecodeOffset",name:"resetTimecodeOffset",value:0}),n.setState({timecodeOffset:f(0)},(function(){n.props.handleSetTimecodeOffset(0)}))},n.setTimecodeOffset=function(){void 0!==n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TimecodeOffset",action:"setTimecodeOffset",name:"setTimecodeOffset",value:n.state.timecodeOffset});var t=n.state.timecodeOffset;"string"===typeof t&&t.includes(":")&&!t.includes("NaN")&&(t=k(t)),n.props.handleSetTimecodeOffset(t)},n.state={timecodeOffset:f(n.props.timecodeOffset)},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:ye.a.offsetContainer},r.a.createElement("input",{className:ye.a.inputBox,type:"text",value:this.state.timecodeOffset,onChange:this.handleChange,name:"lname"}),r.a.createElement("span",{className:ye.a.button,onClick:this.resetTimecodeOffset},r.a.createElement("u",null,"Reset")),r.a.createElement("span",null," | "),r.a.createElement("span",{className:ye.a.button,onClick:this.setTimecodeOffset},r.a.createElement("u",null,"Save")))}}]),a}(r.a.Component),ke=a(13),be=a.n(ke);r.a.Component;var we=function(t){return{"alt+k":{priority:1,handler:function(){t.togglePlayMedia(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+k",name:"togglePlayMedia",value:"na"})},displayKeyCombination:"alt + k",label:"Play Media"},"alt+l":{priority:1,handler:function(){t.skipForward(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+l",name:"skipForward",value:"na"})},displayKeyCombination:"alt + l",label:"Fast Forward"},"alt+j":{priority:1,handler:function(){t.skipBackward(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+j",name:"skipBackward",value:"na"})},displayKeyCombination:"alt + j",label:"Rewind"},"alt+-":{priority:1,handler:function(){t.decreasePlaybackRate(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+-",name:"decreasePlaybackRate",value:"na"})},displayKeyCombination:"alt + -",label:"Decrease Playback Speed"},"alt+=":{priority:1,handler:function(){t.increasePlaybackRate(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+plus",name:"increasePlaybackRate",value:"na"})},displayKeyCombination:"alt + +",label:"Increase Playback Speed"},"alt+r":{priority:1,handler:function(){t.rollBack(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+r",name:"rollBack",value:"na"})},displayKeyCombination:"alt + r",label:"Roll Back"},"alt+t":{priority:1,handler:function(){t.promptSetCurrentTime(),t.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+t",name:"promptSetCurrentTime",value:"na"})},displayKeyCombination:"alt + t",label:"set current time"}}},Ee=a(28),Ce=a.n(Ee),Se=(r.a.Component,a(12)),_e=a.n(Se),xe=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(t){return t!==this.props}},{key:"render",value:function(){var t=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:_e.a.header},t.showSettings?t.settings:null,t.showShortcuts?t.shortcuts:null,t.showExportOptions?t.exportOptions:null,t.tooltip),r.a.createElement("nav",{className:_e.a.nav},null===t.mediaUrl?null:t.mediaControls),r.a.createElement("div",{className:_e.a.settingsContainer},r.a.createElement("button",{className:_e.a.settingsButton,title:"Settings",onClick:t.handleSettingsToggle},r.a.createElement(Jt.a,{icon:Ht.b})),r.a.createElement("button",{className:"".concat(_e.a.settingsButton," ").concat(_e.a.keyboardShortcutsButon),title:"view shortcuts",onClick:t.handleShortcutsToggle},r.a.createElement(Jt.a,{icon:Ht.e})),r.a.createElement("button",{className:"".concat(_e.a.settingsButton),title:"Export",onClick:t.handleExportToggle},r.a.createElement(Jt.a,{icon:Ht.k}))))}}]),a}(r.a.Component),Te=a(36),Oe=a.n(Te),Pe=(r.a.Component,a(104)),je=r.a.createElement("div",{className:_e.a.helpMessage},r.a.createElement("span",null,r.a.createElement(Jt.a,{className:_e.a.icon,icon:Ht.f}),"Double click on a word or timestamp to jump to that point in the video."),r.a.createElement("span",null,r.a.createElement(Jt.a,{className:_e.a.icon,icon:Ht.d}),"Start typing to edit text."),r.a.createElement("span",null,r.a.createElement(Jt.a,{className:_e.a.icon,icon:Ht.n}),"You can add and change names of speakers in your transcript."),r.a.createElement("span",null,r.a.createElement(Jt.a,{className:_e.a.icon,icon:Ht.e}),"Use keyboard shortcuts for quick control."),r.a.createElement("span",null,r.a.createElement(Jt.a,{className:_e.a.icon,icon:Ht.j}),"Save & export to get a copy to your desktop.")),Be=(Pe.a,_e.a.help,Jt.a,_e.a.icon,Ht.i,function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).shouldComponentUpdate=function(t,e){return t.mediaUrl!==n.props.mediaUrl||e!==n.state},n.componentDidMount=function(){n.updateDimensions(),window.addEventListener("resize",n.updateDimensions)},n.updateDimensions=function(){var t={display:"grid",gridTemplateColumns:"1fr 3fr",gridColumnGap:"1em"},e=null;"audio"===n.props.mediaType&&(console.log("this.props.mediaType",n.props.mediaType),t=null,e={display:"none"}),Math.max(document.documentElement.clientWidth,window.innerWidth||0)<=767&&(t=null),n.setState({gridDisplay:t,displayMedia:e})},n.handleWordClick=function(t){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"doubleClickOnWord",name:"startTime",value:f(t)}),n.setCurrentTime(t)},n.handleTimeUpdate=function(t){var e=t.target.currentTime;n.setState({currentTime:e})},n.handlePlayMedia=function(t){n.playMedia(t)},n.handleIsPlaying=function(){return n.isPlaying()},n.handleIsScrollIntoViewChange=function(t){var e=t.target.checked;n.setState({isScrollIntoViewOn:e}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleIsScrollIntoViewChange",name:"isScrollIntoViewOn",value:e})},n.handlePauseWhileTyping=function(t){var e=t.target.checked;n.setState({isPauseWhileTypingOn:e}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handlePauseWhileTyping",name:"isPauseWhileTypingOn",value:e})},n.handleRollBackValueInSeconds=function(t){var e=t.target.value;n.setState({rollBackValueInSeconds:e}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleRollBackValueInSeconds",name:"rollBackValueInSeconds",value:e})},n.handleSetTimecodeOffset=function(t){n.setState({timecodeOffset:t},(function(){n.timedTextEditorRef.current.forceUpdate()}))},n.handleShowTimecodes=function(t){var e=t.target.checked;n.setState({showTimecodes:e}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleShowTimecodes",name:"showTimecodes",value:e})},n.handleShowSpeakers=function(t){var e=t.target.checked;n.setState({showSpeakers:e}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleShowSpeakers",name:"showSpeakers",value:e})},n.handleSettingsToggle=function(){n.setState((function(t){return{showSettings:!t.showSettings}}),(function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleSettingsToggle",name:"showSettings",value:!n.state.showSettings})}))},n.handleShortcutsToggle=function(){n.setState((function(t){return{showShortcuts:!t.showShortcuts}}),(function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleShortcutsToggle",name:"showShortcuts",value:!n.state.showShortcuts})}))},n.handleExportToggle=function(){console.log("handleExportToggle",n.state.showExportOptions),n.setState((function(t){return{showExportOptions:!t.showExportOptions}}),(function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleExportToggle",name:"showExportOptions",value:!n.state.showExportOptions})}))},n.handleExportOptionsChange=function(t){var e=t.target.value;if(console.log(e),"instructions"!==e){var a=n.props.title?n.props.title:n.props.mediaUrl,r=n.getEditorContent(e),o=r.data,s=r.ext,i=o;"json"===s&&(i=JSON.stringify(o,null,2)),"docx"!==s&&n.download(i,"".concat(a,".").concat(s)),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleExportOptionsChange",name:"exportFile",value:e})}},n.download=function(t,e,a){var n=a||"application/octet-stream",r=document.createElement("a"),o=new Blob([t],{type:n});r.href=window.URL.createObjectURL(o),r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)},n.getEditorContent=function(t){var e=n.props.title?n.props.title:"";return n.timedTextEditorRef.current.getEditorContent(t,e)},n.handlePreviewIsDisplayed=function(){n.setState({previewIsDisplayed:!n.state.previewIsDisplayed})},n.onLoadedDataGetDuration=function(t){var e=t.target.duration,a=e+n.state.timecodeOffset,r=f(a);n.setState({mediaDuration:r}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"onLoadedDataGetDuration",name:"durationInSeconds-WithoutOffset",value:f(e)})},n.handleChangePreviewViewWidth=function(t){var e=t.target.value;n.setState({previewViewWidth:e})},n.handleAutoSaveChanges=function(t){n.props.handleAutoSaveChanges&&n.props.handleAutoSaveChanges(t)},n.videoRef=r.a.createRef(),n.state={currentTime:0,transcriptData:null,isScrollIntoViewOn:!1,showSettings:!1,showShortcuts:!1,showExportOptions:!1,isPauseWhileTypingOn:!0,rollBackValueInSeconds:15,timecodeOffset:0,showTimecodes:!0,showSpeakers:!0,previewIsDisplayed:!0,mediaDuration:"00:00:00:00",gridDisplay:null},n.timedTextEditorRef=r.a.createRef(),n.summaryInput=r.a.createRef(),n}return Object(c.a)(a,[{key:"render",value:function(){var t=this,e=r.a.createElement(de,{mediaUrl:this.props.mediaUrl,onTimeUpdate:this.handleTimeUpdate,videoRef:this.videoRef,previewIsDisplayed:this.state.previewIsDisplayed,onLoadedDataGetDuration:this.onLoadedDataGetDuration}),a=r.a.createElement(le,{title:this.props.title?this.props.title:"",mediaDuration:this.state.mediaDuration,currentTime:this.state.currentTime,hookSeek:function(e){return t.setCurrentTime=e},hookPlayMedia:function(e){return t.playMedia=e},hookIsPlaying:function(e){return t.isPlaying=e},rollBackValueInSeconds:this.state.rollBackValueInSeconds,timecodeOffset:this.state.timecodeOffset,mediaUrl:this.props.mediaUrl,handleAnalyticsEvents:this.props.handleAnalyticsEvents,videoRef:this.videoRef}),n=(this.handleSettingsToggle,this.state.isPauseWhileTypingOn,this.state.isScrollIntoViewOn,this.state.rollBackValueInSeconds,this.state.timecodeOffset,this.state.showTimecodes,this.state.showSpeakers,this.handlePauseWhileTyping,this.handleIsScrollIntoViewChange,this.handleRollBackValueInSeconds,this.handleSetTimecodeOffset,this.handleShowTimecodes,this.handleShowSpeakers,this.props.handleAnalyticsEvents,this.state.previewIsDisplayed,this.handlePreviewIsDisplayed,this.handleChangePreviewViewWidth,this.handleExportOptionsChange,this.handleExportToggle,this.handleShortcutsToggle,"draftjs");this.props.autoSaveContentType?n=this.props.autoSaveContentType:this.props.sttJsonType&&(n=this.props.sttJsonType);var o=r.a.createElement(Wt,{fileName:this.props.fileName,transcriptData:this.state.transcriptData,timecodeOffset:this.state.timecodeOffset,onWordClick:this.handleWordClick,playMedia:this.handlePlayMedia,isPlaying:this.handleIsPlaying,currentTime:this.state.currentTime,isEditable:this.props.isEditable,spellCheck:this.props.spellCheck,sttJsonType:this.props.sttJsonType,mediaUrl:this.props.mediaUrl,isScrollIntoViewOn:this.state.isScrollIntoViewOn,isPauseWhileTypingOn:this.state.isPauseWhileTypingOn,showTimecodes:this.state.showTimecodes,showSpeakers:this.state.showSpeakers,ref:this.timedTextEditorRef,handleAnalyticsEvents:this.props.handleAnalyticsEvents,handleAutoSaveChanges:this.handleAutoSaveChanges,autoSaveContentType:n,title:this.props.title?this.props.title:Date.now()}),s=r.a.createElement(xe,{mediaUrl:this.props.mediaUrl,mediaControls:this.videoRef.current?a:null,handleSettingsToggle:this.handleSettingsToggle,handleShortcutsToggle:this.handleShortcutsToggle,handleExportToggle:this.handleExportToggle});return r.a.createElement("div",{className:_e.a.container},this.props.mediaUrl?s:null,r.a.createElement("div",{className:_e.a.grid},r.a.createElement("section",{className:_e.a.row,style:this.state.gridDisplay},r.a.createElement("aside",Object(u.a)({className:_e.a.aside,style:this.state.displayMedia},"style",{paddingLeft:"0.75em"}),this.props.mediaUrl?e:null,r.a.createElement("div",null,r.a.createElement("label",{for:"summary"},"Summary"),r.a.createElement("textarea",{ref:this.summaryInput,name:"summary",rows:"6",cols:"50",style:{padding:"0.5em"}}),r.a.createElement("button",{className:"SAVE"},"Save"))),r.a.createElement("main",{className:"audio"===this.props.mediaType?_e.a.mainWithAudiio:_e.a.main},this.props.mediaUrl&&this.props.transcriptData?o:null))))}}],[{key:"getDerivedStateFromProps",value:function(t){return null!==t.transcriptData?{transcriptData:t.transcriptData}:null}}]),a}(r.a.Component)),Re=function(t){Object(l.a)(a,t);var e=Object(p.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).loadVideo=function(){var t=document.getElementById("transcriptData").value,e=document.getElementById("mediaUrl").value,a=document.getElementById("title").value;console.log(t,e,a),fetch(t).then((function(t){return t.json()})).then((function(t){n.setState({transcriptData:t})})).catch(console.log),n.setState({mediaUrl:e,title:a,sttType:"google-stt"})},n.state={transcriptData:null,mediaUrl:null,isTextEditable:!1,spellCheck:!1,sttType:"google-stt",analyticsEvents:[],title:"",fileName:"",autoSaveData:{},autoSaveContentType:"draftjs",autoSaveExtension:"json"},n.transcriptEditorRef=r.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadVideo()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Test"},r.a.createElement(Be,{transcriptData:this.state.transcriptData,fileName:this.state.fileName,mediaUrl:this.state.mediaUrl,isEditable:this.state.isTextEditable,spellCheck:this.state.spellCheck,sttJsonType:this.state.sttType,handleAnalyticsEvents:this.handleAnalyticsEvents,title:this.state.title,ref:this.transcriptEditorRef,handleAutoSaveChanges:this.handleAutoSaveChanges,autoSaveContentType:this.state.autoSaveContentType,mediaType:"video"}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement("input",{type:"hidden",id:"transcriptData",name:"transcriptData",value:"https://raw.githubusercontent.com/sangwoo3/html_files/master/transcripts/transcript_352_000-010.json"}),r.a.createElement("input",{type:"hidden",id:"mediaUrl",name:"mediaUrl",value:"https://livestream-videos-prod.s3-us-west-2.amazonaws.com/stream-83b34c7d-772b-43cc-8e9f-c0d325eaf08b-s3.mp4"}),r.a.createElement("input",{type:"hidden",id:"title",name:"title",value:"Black and White Photography in Photoshop"}),r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},28:function(t,e,a){t.exports={shortcuts:"keyboard-shortcuts_shortcuts__2swkx",header:"keyboard-shortcuts_header__NuhLA",closeButton:"keyboard-shortcuts_closeButton__3er9F",list:"keyboard-shortcuts_list__jnAk_",listItem:"keyboard-shortcuts_listItem__1TzzX",shortcut:"keyboard-shortcuts_shortcut__30R3D",shortcutLabel:"keyboard-shortcuts_shortcutLabel__vpBex"}},35:function(t,e,a){t.exports={unselectable:"WrapperBlock_unselectable__hU6QO",markers:"WrapperBlock_markers__3K8G3",WrapperBlock:"WrapperBlock_WrapperBlock__3ORF6",speaker:"WrapperBlock_speaker__3292e",text:"WrapperBlock_text__2-HUA",time:"WrapperBlock_time__3dZaD",speakerEditable:"WrapperBlock_speakerEditable__3tFkP",speakerNotEditable:"WrapperBlock_speakerNotEditable__3f0oJ",EditLabel:"WrapperBlock_EditLabel__2xvZJ"}},36:function(t,e,a){t.exports={settings:"src_settings__4QuRl",header:"src_header__qzCif",closeButton:"src_closeButton__3VXOJ",controlsContainer:"src_controlsContainer__1vQty",settingElement:"src_settingElement__jGE9a",label:"src_label__vApSA",rollbackValue:"src_rollbackValue__Jq3w-",timecodeLabel:"src_timecodeLabel__2e9q_",playerButton:"src_playerButton__1Zs-d"}},42:function(t,e,a){t.exports={topSection:"media-player_topSection__3PvSj",playerSection:"media-player_playerSection__1kHsH",controlsSection:"media-player_controlsSection__2zuBP",title:"media-player_title__3Z1Ji"}},43:function(t,e,a){t.exports={offsetContainer:"TimecodeOffset_offsetContainer__3fg-M",inputBox:"TimecodeOffset_inputBox__2hVnK",button:"TimecodeOffset_button__3fQGw"}},48:function(t,e,a){t.exports={switchContainer:"Toggle_switchContainer__42-hg",switch:"Toggle_switch__1O_V_",slider:"Toggle_slider__CPVDs"}},65:function(t,e,a){t.exports={wrapper:"ProgressBar_wrapper__2sHhL",bar:"ProgressBar_bar__2rKBI"}},99:function(t,e,a){t.exports={"DraftEditor-root":"timed-text-editor_DraftEditor-root__fFyJE",editor:"timed-text-editor_editor__2nhWu"}}},[[105,1,2]]]);
//# sourceMappingURL=main.0d3da7a8.chunk.js.map