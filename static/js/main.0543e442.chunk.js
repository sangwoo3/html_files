(this["webpackJsonpsummary_annotation-app"]=this["webpackJsonpsummary_annotation-app"]||[]).push([[0],{101:function(e,t,a){e.exports={"DraftEditor-root":"timed-text-editor_DraftEditor-root__fFyJE",editor:"timed-text-editor_editor__2nhWu"}},103:function(e,t,a){e.exports={selectPlayerControl:"Select_selectPlayerControl__OgWvy"}},104:function(e,t,a){e.exports={videoEl:"video-player_videoEl__3PDdn"}},107:function(e,t,a){e.exports=a(237)},112:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},113:function(e,t,a){},12:function(e,t,a){e.exports={settings:"settings_settings__AdO6f",header:"settings_header__c3Jc0",closeButton:"settings_closeButton__Jtol5",controlsContainer:"settings_controlsContainer__1Gt4w",settingElement:"settings_settingElement__1JxjQ",label:"settings_label__19tSW",rollbackValue:"settings_rollbackValue__1PZun",timecodeLabel:"settings_timecodeLabel__YhjC-"}},13:function(e,t,a){e.exports={container:"transcript-editor_container__3hdJZ",main:"transcript-editor_main__3DGq4",mainWithAudiio:"transcript-editor_mainWithAudiio__3HnA-",help:"transcript-editor_help__29Bsr",helpMessage:"transcript-editor_helpMessage__3r62M",settingsButton:"transcript-editor_settingsButton__3l9kS",icon:"transcript-editor_icon__2dGb9",aside:"transcript-editor_aside__2AmOZ",settingsContainer:"transcript-editor_settingsContainer__2l_VH",grid:"transcript-editor_grid__24fjN",row:"transcript-editor_row__1-gs_",keyboardShortcutsButon:"transcript-editor_keyboardShortcutsButon__29Ao4"}},14:function(e,t,a){e.exports={playerControls:"PlayerControls_playerControls__3k5i8",playerButton:"PlayerControls_playerButton__f4oZ5",playBackRate:"PlayerControls_playBackRate__1I_Tx",timeBox:"PlayerControls_timeBox__JSqhF",currentTime:"PlayerControls_currentTime__19qr3",separator:"PlayerControls_separator__1iH51",duration:"PlayerControls_duration__3u5sn",btnsGroup:"PlayerControls_btnsGroup__2KJb3",pip:"PlayerControls_pip__2UFjK"}},237:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),s=a(25),i=a.n(s),l=(a(66),a(1)),c=a(2),p=a(4),d=a(3),u=(a(112),a(113),a(96)),h={maxWidth:"1200px",width:"90%"},m=(n=function(){return o.a.createElement(u.a,{trigger:o.a.createElement("button",{type:"button",className:"button"}," ","Click to View Instructions"," "),modal:!0,lockScroll:!1,contentStyle:h},(function(e){return o.a.createElement("div",{className:"modal"},o.a.createElement("a",{className:"close",onClick:e},"\xd7"),o.a.createElement("div",{className:"content"},o.a.createElement("div",{class:"col-12",id:"actualInstructions"},o.a.createElement("h2",null,"Tasks"),o.a.createElement("dl",null,o.a.createElement("dt",null,"Task A - Select sentences that best summarize a 5 minute video"),o.a.createElement("p",null,"\ud83d\udc49",o.a.createElement("em",null,"Read")," the whole transcript and ",o.a.createElement("em",null,"select")," sentences that represent the main idea of the transcript as best as possible."),o.a.createElement("dd",null,o.a.createElement("ol",null,o.a.createElement("li",null,"Select ",o.a.createElement("em",null,"at least ONE")," sentence from the transcript. ",o.a.createElement("em",null,"Choosing 3 to 7 sentences")," (or more if necessary) is recommended."),o.a.createElement("li",null,"The selected sentences should be closely related to your written summary in Task B."))),o.a.createElement("dt",null,"Task B - Write a short summary in your own words"),o.a.createElement("dd",null,"\ud83d\udc49",o.a.createElement("em",null,"Write")," a short summary in your own words (1~2 sentences recommended) in the summary box based on your selected sentences.")),o.a.createElement("h2",null,"Notes"),o.a.createElement("ol",null,o.a.createElement("li",null,"The title of the video is shown on the top of the transcript."),o.a.createElement("li",null,"We only care about the transcribed parts of the video. If the video is longer that 5 minutes, you should do your tasks based on the shown transcript and corresponding video content."),o.a.createElement("li",null,"You do NOT need to watch the entire 5 minute long video if you can do your task by only reading the transcript. The video is to help you understand the context of the transcript.")),o.a.createElement("h2",null,"Caveats"),o.a.createElement("ul",null,o.a.createElement("li",null,"Some videos are not available. In that case, please do the tasks based only on the transcripts."),o.a.createElement("li",null,"Please skip the tasks if the transcripts are not related to the video content (and let us know).")),o.a.createElement("h2",null,"Video Player Control"),o.a.createElement("ul",null,o.a.createElement("li",null,"By click a timestamp, you can jump to that exact time in the video, which is provided to help you understand the context."),o.a.createElement("li",null,"Clicking the video area enables play or pause the video.")))))}))},function(){return o.a.createElement("div",{className:"example-warper"},o.a.createElement(n,null))}),f=a(27),y=a(9),v=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("span",{className:"segmentCheckbox"},o.a.createElement("input",{type:"checkbox",id:this.props.name,name:this.props.name,value:this.props.name,style:{marginRight:"8px",verticalAlign:"middle"}}),o.a.createElement("label",{for:this.props.name,style:{fontSize:"13px"}},this.props.name))}}]),a}(r.PureComponent),g=function(e,t){var a=25;void 0!==t&&(a=t);var n=function(e,t){return Number((1/t*Math.floor(Number((t*e).toPrecision(12)))).toFixed(2))}(e,a),r=Math.floor(n),o=((n-r)*a).toFixed(2);function s(e){return e<10?"0".concat(parseInt(e)):parseInt(e)}return"".concat(s(r/60/60%60),":").concat(s(r/60%60),":").concat(s(r%60),":").concat(s(o))},k=function(e,t){var a=25;void 0!==t&&(a=t);var n=function(e,t){var a=e.split(":"),n=parseInt(a[3]);return n+=parseInt(a[2])*t,n+=parseInt(a[1])*(60*t),n+=parseInt(a[0])*(60*t*60)}(e,a);return Number(Number(n/a).toFixed(2))},E=function(e){return 1===e.length},b=function(e){if("string"!==typeof e)return e;switch(e.split(":").length){case 4:return e;case 2:return E(e.split(":")[0])?"00:0".concat(e,":00"):"00:".concat(e,":00");case 3:return"".concat(e,":00");default:return function(e){return e.includes(".")}(e)?E(e.split(".")[0])?"00:0".concat(e.split(".")[0],":").concat(e.split(".")[1],":00"):"00:".concat(e.replace(".",":"),":00"):E(e)?"00:00:0".concat(e,":00"):"00:00:".concat(e,":00")}},w=function(e){if("string"===typeof e){var t=b(e);return k(t)}return parseFloat(e)},S=function(e){return g(e).slice(0,-3)},C=a(34),x=a.n(C),T=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).shouldComponentUpdate=function(e,t){return e.block.getText()!==n.props.block.getText()||(e.blockProps.showSpeakers!==n.props.blockProps.showSpeakers||(e.blockProps.showTimecodes!==n.props.blockProps.showTimecodes||(e.blockProps.timecodeOffset!==n.props.blockProps.timecodeOffset||(t.speaker!==n.state.speaker||(e.blockProps.isEditable!==n.props.blockProps.isEditable||e.block.getData().get("speaker")!==n.state.speaker)))))},n.handleTimecodeClick=function(){n.props.blockProps.onWordClick(n.state.start),n.props.blockProps.handleAnalyticsEvents&&n.props.blockProps.handleAnalyticsEvents({category:"WrapperBlock",action:"handleTimecodeClick",name:"onWordClick",value:g(n.state.start)})},n.state={speaker:"",start:0,timecodeOffset:n.props.blockProps.timecodeOffset},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.block,t=e.getData().get("speaker"),a=e.getData().get("start");this.setState({speaker:t,start:a})}},{key:"render",value:function(){var e=this,t=this.state.start;this.props.blockProps.timecodeOffset&&(t+=this.props.blockProps.timecodeOffset);var a=o.a.createElement("span",{className:x.a.time,onClick:this.handleTimecodeClick},S(t));return o.a.createElement("div",{className:x.a.WrapperBlock},o.a.createElement("div",{className:[x.a.markers,x.a.unselectable].join(" "),contentEditable:!1},o.a.createElement(v,{name:"".concat(function(){var t=(e.props.block.getData().get("speaker")||"").split(" ")[1];return"sentence-".concat(t)}())}),this.props.blockProps.showTimecodes?a:""),o.a.createElement("div",{className:x.a.text},this.props.block.text))}}]),a}(o.a.Component),_=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleWordClick=function(t){e.props.onWordClick(t)},e.renderBlockWithTimecodes=function(){return{component:T,editable:!1,props:{showSpeakers:e.props.showSpeakers,showTimecodes:e.props.showTimecodes,timecodeOffset:e.props.timecodeOffset,editorState:e.props.editorState,setEditorNewContentState:e.props.setEditorNewContentState,setEditorNewContentStateSpeakersUpdate:e.props.setEditorNewContentStateSpeakersUpdate,onWordClick:e.handleWordClick,handleAnalyticsEvents:e.props.handleAnalyticsEvents,isEditable:e.props.isEditable}}},e.handleOnChange=function(t){e.props.onChange(t)},e}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.editorState!==this.props.editorState||e.isEditable!==this.props.isEditable}},{key:"render",value:function(){return o.a.createElement(y.Editor,{editorState:this.props.editorState,onChange:this.handleOnChange,stripPastedStyles:!0,blockRendererFn:this.renderBlockWithTimecodes,handleKeyCommand:this.props.handleKeyCommand,keyBindingFn:this.props.customKeyBindingFn,spellCheck:this.props.spellCheck})}}]),a}(o.a.Component),O=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).generateConfidence=function(e){return e.confidence?e.confidence>.6?"high":"low":"high"},e.generatePreviousTimes=function(e){for(var t="",a=0;a<e.start;a++)t+="".concat(a," ");if(e.start%1>0){var n=Math.floor(e.start%1*4)/4;t+=" ".concat(Math.floor(e.start)+n)}return t},e}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.decoratedText!==this.props.decoratedText}},{key:"render",value:function(){var e=this.props.entityKey?this.props.contentState.getEntity(this.props.entityKey).getData():{};return o.a.createElement("span",{"data-start":e.start,"data-end":e.end,"data-confidence":this.generateConfidence(e),"data-prev-times":this.generatePreviousTimes(e),"data-entity-key":e.key,className:"Word"},this.props.children)}}]),a}(r.Component),P=function(e,t){var a=0;return e.map((function(e){var n={start:e.start,end:e.end,confidence:e.confidence,text:e[t],offset:a,length:e[t].length,key:Math.random().toString(36).substring(6)};return a=a+e[t].length+1,n}))};var j=function(e,t){return function(e){var t=e[0].speaker,a=[],n={words:[],text:"",speaker:""};return e.forEach((function(e){t===e.speaker?(n.words.push(e),n.text+=e.punct+" ",n.speaker=t):(t=e.speaker,n.text=n.text.trim(),a.push(n),(n={words:[],text:"",speaker:"U_UKN"}).words.push(e),n.text+=e.punct+" ")})),a.push(n),a}(function(e,t){var a=[];return e.forEach((function(e){var n,r=function(e,t){var a=t.find((function(t){var a=t.start+t.duration;return e.start>=t.start&&e.end<=a}));return void 0===a?{"@type":"Segment",speaker:{"@id":"UKN",gender:"U"}}:a}(e,t);e.speaker=(n=r.speaker).gender+"_"+n["@id"],a.push(e)})),a}(e,t.segments))},B=function(e){var t,a=[],n=null;return void 0!==e.retval?(t=e.retval.words,void 0!==e.retval.segmentation&&(n=e.retval.segmentation)):(t=e.words,void 0!==e.segmentation&&(n=e.segmentation)),(null===n?function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){/[.?!]/.test(e.punct)?(a.words.push(e),a.text.push(e.punct),a.text=a.text.join(" "),t.push(a),a={words:[],text:[]}):(a.words.push(e),a.text.push(e.punct))})),t}(t):j(t,n)).forEach((function(e,t){if(void 0!==e.words[0]){var r="TBC ".concat(t);null!==n&&(r=e.speaker);var o={text:e.text,type:"paragraph",data:{speaker:r,words:e.words,start:e.words[0].start,checked:!1},entityRanges:P(e.words,"punct")};a.push(o)}})),a},A=function(e){var t=[];return function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){e.paragraph.forEach((function(e){e.line.forEach((function(e){var n={text:e.text,start:e.startTime,end:e.endTime};/[.?!]/.test(e.text)?(a.words.push(n),a.text.push(e.text),t.push(a),a={words:[],text:[]}):(a.words.push(n),a.text.push(e.text))}))}))})),t}(e.text).forEach((function(e,a){var n={text:e.text.join(" "),type:"paragraph",data:{speaker:"TBC ".concat(a),words:e.words,start:e.words[0].start},entityRanges:P(e.words,"text")};t.push(n)})),t},R=function(e,t){for(var a in t){var n=t[a],r=parseFloat(e);if(r>=n.start&r<n.end)return n.name}return"UNK"},N=function(e){var t=[];return function(e,t,a){var n,r=[],o={words:[],text:[],speaker:""},s=R(e[0].start,t),i=!1;return e.forEach((function(e){((n=R(e.start,t))!==s||o.words.length>a&&i)&&(o.speaker=s,r.push(o),s=n,o={words:[],text:[]}),o.words.push(e),o.text.push(e.punct),i=!!/[.?!]/.test(e.punct)})),o.speaker=s,r.push(o),r}(function(e){var t=[];return e.forEach((function(e){/[.?!]/.test(e.name)?(t[t.length-1].name=t[t.length-1].name+e.name,t[t.length-1].duration=(parseFloat(t[t.length-1].duration)+parseFloat(e.duration)).toString()):t.push(e)})),t}(e.words).map((function(e,t){return{start:e.time,end:(parseFloat(e.time)+parseFloat(e.duration)).toString(),confidence:e.confidence,word:e.name.toLowerCase().replace(/[.?!]/g,""),punct:e.name,index:t}})),e.speakers.map((function(e){return{start:parseFloat(e.time),end:parseFloat(e.time)+parseFloat(e.duration),name:e.name}})),150).forEach((function(e){var a=e.words[0].start,n={text:e.text.join(" "),type:"paragraph",data:{speaker:e.speaker,words:e.words,start:a},entityRanges:P(e.words,"punct")};t.push(n)})),t},D=a(42),I=function(e,t){var a=parseFloat(e.start_time),n=parseFloat(e.end_time),r=t.find((function(e){return a>=parseFloat(e.start_time)&&n<=parseFloat(e.end_time)}));return void 0===r?"UKN":r.speaker_label.replace("spk_","")},M=function(e,t){return function(e){var t=[],a="";return e.forEach((function(e){e.speaker_label===a?t[t.length-1].words.push(e):(a=e.speaker_label,t.push({speaker:e.speaker_label,words:[e]}))})),t}(function(e,t){return e.map((function(e){return Object.assign(e,{speaker_label:I(e,t)})}))}(e,t.segments))},W=function(e){return/punctuation/.test(e.type)?Object.assign(e.alternatives[0],{confidence:1}):e.alternatives.reduce((function(e,t){return parseFloat(e.confidence)>parseFloat(t.confidence)?e:t}))},V=function(e){var t=W(e);return{start:parseFloat(e.start_time),end:parseFloat(e.end_time),text:t.content,confidence:parseFloat(t.confidence)}},F=function(e){var t=[];return e.map((function(a,n){return"punctuation"===a.type?(t.push(n-1),function(e,t){var a=e.alternatives[0].content;return Object(D.a)(Object(D.a)({},t),{},{alternatives:t.alternatives.map((function(e){return Object(D.a)(Object(D.a)({},e),{},{content:e.content+(t=a,t.replace(/^\s/,""))});var t}))})}(a,e[n-1])):a})).filter((function(e,a){return!t.includes(a)}))},U=function(e){var t=[],a=e.results.items,n=e.results.speaker_labels,r=F(a);return("undefined"!=typeof n?function(e,t){return M(e,t).map((function(e){return{words:e.words.map(V),text:e.words.map((function(e){return W(e).content})),speaker:e.speaker}}))}(r,n):function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){var n=W(e).content,r=V(e);/[.?!]/.test(n)?(a.words.push(r),a.text.push(n),t.push(a),a={words:[],text:[]}):(a.words.push(r),a.text.push(n))})),t}(r)).forEach((function(e,a){var n={text:e.text.join(" "),type:"paragraph",data:{speaker:e.speaker?"Speaker ".concat(e.speaker):"TBC ".concat(a),words:e.words,start:parseFloat(e.words[0].start)},entityRanges:P(e.words,"text")};t.push(n)})),t},K=function(e){var t,a,n=function(e){var t=[];return e.forEach((function(e){t.push(e.alternatives[0].timestamps.map((function(e){return{text:e[0],start:e[1],end:e[2]}})))})),t}(e.results[0].results);return function(e){var t=[];return e.forEach((function(e){var a={text:e.map((function(e){return e.text})).join(" "),type:"paragraph",data:{speaker:e[0].speaker,words:e,start:e[0].start},entityRanges:P(e,"text")};t.push(a)})),t}((t=n,a=e.results[0].speaker_labels,t.map((function(e){return e.map((function(e){return e.speaker=function(e,t){var a=t.find((function(t){var a=t.from,n=t.to;return e.start===a&&e.end===n}));return void 0===a?"UKN":"S_".concat(a.speaker)}(e,a),e}))}))))};var L=function(e,t){return function(e,t){var a=[],n="UKN",r=0,o=0,s={words:[],text:"",speaker:""};return e.forEach((function(e){(n=function(e,t){return t.find((function(t){if(e.start>=t.start&&e.end<=t.end)return t}))}(e,t))&&((r=t.indexOf(n))===o?(s.words.push(e),s.text+=e.text+" ",s.speaker=n.speaker):(o=r,s.text.trim(),a.push(s),(s={words:[],text:"",speaker:""}).words.push(e),s.text+=e.text+" ",s.speaker=n.speaker))})),a.push(s),a}(e,t)},J=function(e){var t=e.words,a=e.paragraphs;return(a?L(t,a):function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){a.words.push(e),a.text.push(e.text),/[.?!]/.test(e.text)&&(a.text=a.text.join(" "),t.push(a),a={words:[],text:[]})})),t}(t)).map((function(e,t){return e.speaker||(e.speaker="TBC ".concat(t)),function(e){var t=e.words;return{text:e.text,type:"paragraph",data:{speaker:e.speaker,words:t,start:t.length>0?t[0].start:0},entityRanges:P(t,"text")}}(e)}))},H=function(e){var t=function e(t){return t.reduce((function(t,a){return t.concat(Array.isArray(a)?e(a):a)}),[])}(e.map((function(e){return e.entityRanges}))),a={};return t.forEach((function(e){a[e.key]={type:"WORD",mutability:"MUTABLE",data:e}})),a},G=function(e,t){var a=parseFloat(e);return void 0!==t&&(a+=parseFloat(t/1e9)),a},z=function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){var n=function(e){return 0===e.alternatives.length?e[0]:e.alternatives.reduce((function(e,t){return parseFloat(e.confidence)>parseFloat(t.confidence)?e:t}))}(e);a.text.push(n.transcript.trim()),n.words.forEach((function(e){var t,r;a.words.push((t=e,r=n.confidence,{start:G(t.startTime.seconds,t.startTime.nanos),end:G(t.endTime.seconds,t.endTime.nanos),text:t.word,confidence:r}))})),t.push(a),a={words:[],text:[]}})),t},q=function(e){var t=[];return z(e.results).forEach((function(e,a){var n={text:e.text.join(" "),type:"paragraph",data:{speaker:e.speaker?"Speaker ".concat(e.speaker):"TBC ".concat(a),words:e.words,start:parseFloat(e.words[0].start)},entityRanges:P(e.words,"text")};t.push(n)})),t},Z=function(e,t){var a;switch(t){case"bbckaldi":return{blocks:a=B(e),entityMap:H(a)};case"autoedit2":return{blocks:a=A(e),entityMap:H(a)};case"speechmatics":return{blocks:a=N(e),entityMap:H(a)};case"ibm":return{blocks:a=K(e),entityMap:H(a)};case"draftjs":return e;case"amazontranscribe":return{blocks:a=U(e),entityMap:H(a)};case"digitalpaperedit":return{blocks:a=J(e),entityMap:H(a)};case"google-stt":return{blocks:a=q(e),entityMap:H(a)};default:console.error("Did not recognize the stt engine.")}},Q=function(e){return e.blocks.map((function(e){return"".concat(e.text)})).join("\n\n")},X=a(22),Y=function(e,t){return function(e,t){var a=new X.Document({creator:"Test",description:"Test Description",title:t}),n=new X.TextRun(t),r=new X.Paragraph;r.addRun(n),r.heading1().center(),a.addParagraph(r);var o=new X.Paragraph;a.addParagraph(o),e.blocks.forEach((function(e){var t=new X.Paragraph(S(e.data.words[0].start)),n=new X.TextRun(e.data.speaker).bold().tab(),r=new X.TextRun("").break();t.addRun(n),a.addParagraph(t);var o=new X.Paragraph(e.text);o.addRun(r),a.addParagraph(o)})),(new X.Packer).toBlob(a).then((function(e){var a="".concat(t,".docx"),n=document.createElement("a");return n.href=window.URL.createObjectURL(e),n.download=a,n.click(),e}))}(e,t)};var $=function(e){return e.blocks.map((function(e){return"".concat(e.data.speaker," \t [").concat(S(e.data.start),"] \t ").concat(e.text)})).join("\n\n")},ee=function(e){var t={words:[],paragraphs:[]};return e.blocks.forEach((function(e,a){if(void 0!==e.data.words){var n={id:a,start:e.data.words[0].start,end:e.data.words[e.data.words.length-1].end,speaker:e.data.speaker};t.paragraphs.push(n);var r=e.data.words.map((function(e){var t={id:e.index,start:e.start,end:e.end,text:null};return e.text?t.text=e.text:(e.punct||e.word)&&(t.text=e.punct),t}));t.words=t.words.concat(r)}})),t},te=a(97),ae=a.n(te);var ne=function(e,t){var a=null;void 0!==t&&(a=t);var n={newline_boundaries:!0,html_boundaries:!1,sanitize:!1,allowed_tags:!1,abbreviations:a};return ae.a.sentences(e,n).join("\n")};var re=function(e){return e.replace(/\n/g,"\n\n")};var oe=function(e){return e.replace(/\n /g,"\n")};var se=function(e,t){return e.split("\n\n").map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,a=0,n=e.map((function(e,n,r){if((a+=e.length+1)<=t){if(void 0!==r[n+1]){var o=r[n+1].length;return a+o<t?e:(a=0,"".concat(e,"\n"))}return e}return a=0,"".concat(e,"\n")}));return n}(e.split(" "),t)})).map((function(e){return e.join(" ")})).map((function(e){return oe(e)})).join("\n\n")};var ie=function(e){return e.map((function(e){return e.replace(/^\s+/g,"")}))};var le=function(e){var t=e.split("\n"),a=0,n=t.map((function(e){return""===e?e:0===a?(a+=1,"."===e[e.length-1][0]?e+"\n\n":e+"\n"):1===a?(a=0,e+"\n\n"):void 0}));return n=(n=(n=ie(n)).filter((function(e){return 0!==e.length}))).join("").trim()};function ce(e){return e.map((function(e){return e.text})).join(" ")}var pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,a=e;"object"===typeof e&&(a=ce(e));var n=ne(a),r=re(n),o=se(r,t),s=le(o);return s},de=/&/g,ue=/</g,he=/>/g,me=function(e){return e.replace(de,"&amp;").replace(ue,"&lt;").replace(he,"&gt;")},fe=function(e){return new Date(1e3*e.toFixed(3)).toISOString().substr(11,12)},ye=function(e){var t='<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n    <tt xmlns="http://www.w3.org/ns/ttml"\n    xmlns:ttp="http://www.w3.org/ns/ttml#parameter"\n    ttp:timeBase="media"\n    xmlns:m608="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt#cea608"\n    xmlns:smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"\n    xmlns:ttm="http://www.w3.org/ns/ttml#metadata">\n    <head>\n    <metadata>\n    <smpte:information m608:captionService="F1C1CC" m608:channel="cc1"/>\n    </metadata>\n    <styling></styling>\n    <layout></layout>\n    </head>\n    <body><div>';return e.forEach((function(e){t+='<p begin="'.concat(fe(parseFloat(e.start)),'" end="').concat(fe(parseFloat(e.end)),'">').concat(me(e.text).replace(/\n/g,"<br />"),"</p>\n")})),t+="</div>\n</body>\n</tt>"},ve=a(98),ge=a.n(ve),ke=function(e,t){return ge()(Math.round(e),t,!1).toString().replace(/^00/,"01")},Ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-GB",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,n='<?xml version="1.0" encoding="UTF-8"?>\n        <tt\n          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n          xmlns="http://www.w3.org/ns/ttml"\n          xmlns:tt="http://www.w3.org/ns/ttml"\n          xmlns:tts="http://www.w3.org/ns/ttml#styling"\n          xmlns:ttp="http://www.w3.org/ns/ttml#parameter"\n          xml:lang="'.concat(t,'"\n          ttp:timeBase="smpte"\n          ttp:frameRate="').concat(a,'"\n          ttp:frameRateMultiplier="').concat(25===a?"1 1":"999 1000",'"\n          ttp:dropMode="nonDrop"\n        >\n        <head>\n          <styling>\n            <style\n              xml:id="normal"\n              tts:fontFamily="sansSerif"\n              tts:fontWeight="normal"\n              tts:fontStyle="normal"\n              tts:color="white"\n              tts:fontSize="100%"\n            />\n          </styling>\n          <layout>\n            <region\n              xml:id="bottom"\n              tts:origin="0% 85%"\n              tts:extent="100% 15%"\n              tts:textAlign="center"\n              tts:displayAlign="after"\n            />\n          </layout>\n        </head>\n        <body style="normal" region="bottom">\n          <div begin="-01:00:00:00">');return e.forEach((function(e){n+='<p begin="'.concat(ke(parseFloat(e.start)*a,a),'" end="').concat(ke(parseFloat(e.end)*a,a),'">').concat(me(e.text).replace(/\n/g,"<br />"),"</p>\n")})),n+="</div>\n</body>\n</tt>"},be=function(e){var t='<?xml version="1.0" encoding="UTF-8"?>\n    <tt xmlns="http://www.w3.org/ns/ttml">\n    <head></head>\n    <body>\n    <div>';return e.forEach((function(e){t+='<p begin="'.concat(fe(parseFloat(e.start)),'" end="').concat(fe(parseFloat(e.end)),'">').concat(me(e.text).replace(/\n/g,"<br />"),"</p>\n")})),t+="</div>\n</body>\n</tt>"},we=function(e){var t="";return e.forEach((function(e,a){t+="".concat(a+1,"\n").concat(fe(parseFloat(e.start)).replace(".",",")," --\x3e ").concat(fe(parseFloat(e.end)).replace(".",","),"\n").concat(e.text.trim(),"\n\n")})),t},Se=function(e){var t="WEBVTT\n\n";return e.forEach((function(e,a){t+="".concat(a+1,"\n").concat(fe(parseFloat(e.start))," --\x3e ").concat(fe(parseFloat(e.end)),"\n").concat(e.text,"\n\n")})),t};var Ce=function(e){var t="N, In, Out, Text\n";return e.forEach((function(e,a){t+="".concat(a+1,","),t+='"'.concat(e.start,'","').concat(e.end,'",'),t+='"'.concat(e.text.replace(/\n/g,"\r\n"),'"\n')})),t};var xe=function(e){var t=e.words,a=e.type,n=e.numberOfCharPerLine,r=function(e,t){return function(e,t){var a=0,n=0;return t.map((function(t){n+=t.trim().replace(/\n /g,"").replace(/\n/g," ").split(" ").length;var r={text:t.trim()};return r.start=e[a].start,r.end=e[n-1].end,a=n,r}))}(e,function(e){var t=e.split("\n\n");return t=t.map((function(e){return e.trim()}))}(pe(e,t)))}(t,n);if("string"===typeof t)return pe(t,n);switch(a){case"premiere":return ye(r);case"ttml":return be(r);case"itt":return Ee(r);case"srt":return we(r);case"vtt":return Se(r);case"json":return r;case"csv":return Ce(r);case"pre-segment-txt":case"txt":return pe(t,n);default:return{ttml:be(r),premiere:ye(r),itt:Ee(r),srt:we(r),vtt:Se(r),json:r}}},Te=function(e,t,a){switch(t){case"draftjs":return{data:e,ext:"json"};case"txt":return{data:Q(e),ext:"txt"};case"docx":return{data:Y(e,a),ext:"docx"};case"txtspeakertimecodes":return{data:$(e),ext:"txt"};case"digitalpaperedit":return{data:ee(e),ext:"json"};case"srt":var n=ee(e).words;return{data:xe({words:n,type:"srt",numberOfCharPerLine:35}),ext:"srt"};case"premiereTTML":n=ee(e).words;return{data:xe({words:n,type:"premiere"}),ext:"ttml"};case"ttml":n=ee(e).words;return{data:xe({words:n,type:"ttml"}),ext:"ttml"};case"itt":n=ee(e).words;return{data:xe({words:n,type:"itt"}),ext:"itt"};case"csv":n=ee(e).words;return{data:xe({words:n,type:"csv"}),ext:"csv"};case"vtt":n=ee(e).words;return{data:xe({words:n,type:"vtt"}),ext:"vtt"};case"json-captions":n=ee(e).words;return{data:xe({words:n,type:"json"}),ext:"json"};case"pre-segment-txt":n=ee(e).words;return{data:xe({words:n,type:"pre-segment-txt"}),ext:"txt"};default:console.error("Did not recognise the export format")}},_e=a(33);a(99),a(100),a(63);var Oe,Pe=a(101),je=a.n(Pe),Be=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).shouldComponentUpdate=function(e,t){return e!==n.props||t!==n.state},n.onChange=function(e){},n.handleDoubleClick=function(e){for(var t=e.nativeEvent.target;!t.hasAttribute("data-start")&&t.parentElement;)t=t.parentElement;if(t.hasAttribute("data-start")){var a=parseFloat(t.getAttribute("data-start"));n.props.onWordClick(a)}},n.getWordCount=function(e){var t=e.getCurrentContent().getPlainText("").replace(/(?:\r\n|\r|\n)/g," ").trim().match(/\S+/g);return t?t.length:0},n.setEditorContentState=function(e){var t=Object(y.convertFromRaw)(e),a=y.EditorState.createWithContent(t,Ae);void 0!==n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TimedTextEditor",action:"setEditorContentState",name:"getWordCount",value:n.getWordCount(a)}),n.setState({editorState:a},(function(){n.forceRenderDecorator()}))},n.forceRenderDecorator=function(){console.log(">>>>force rerender");var e=n.state.editorState.getCurrentContent(),t=n.state.editorState.getDecorator(),a=y.EditorState.createWithContent(e,t),r=y.EditorState.push(a,e);n.setState({editorState:r})},n.setEditorNewContentState=function(e){var t=n.state.editorState.getDecorator(),a=y.EditorState.createWithContent(e,t),r=y.EditorState.push(a,e);n.setState({editorState:r})},n.setEditorNewContentStateSpeakersUpdate=function(e){var t=n.state.editorState.getDecorator(),a=y.EditorState.createWithContent(e,t),r=y.EditorState.push(a,e);n.setState((function(){return{editorState:r}}),(function(){var e=n.props.autoSaveContentType,t=n.props.title,a=Te(Object(y.convertToRaw)(r.getCurrentContent()),e,t);n.props.handleAutoSaveChanges(a)}))},n.customKeyBindingFn=function(e){return 13===e.keyCode?(console.log("customKeyBindingFn"),"split-paragraph"):!e.altKey||32!==e.keyCode&&32!==e.keyCode&&75!==e.keyCode&&76!==e.keyCode&&74!==e.keyCode&&187!==e.keyCode&&189!==e.keyCode&&82!==e.keyCode&&84!==e.keyCode?Object(y.getDefaultKeyBinding)(e):(e.preventDefault(),"keyboard-shortcuts")},n.handleKeyCommand=function(e){return"split-paragraph"===e&&n.splitParagraph(),"keyboard-shortcuts"===e?"handled":"not-handled"},n.splitParagraph=function(){var e=n.state.editorState.getSelection();if(e.isCollapsed()){var t=n.state.editorState.getCurrentContent(),a=y.Modifier.splitBlock(t,e),r=y.EditorState.push(n.state.editorState,a,"split-block"),o=r.getSelection(),s=t.blockMap.get(a.selectionBefore.getStartKey()),i=s.getData().get("speaker"),l="NA",c=!1,p=s.getEntityAt(e.getStartOffset());if(null===p){var d=n.findClosestEntityKeyToSelectionPoint(e,s);if(p=d.entityKey,c=d.isEndOfParagraph,null===p)return"not-handled"}var u=t.getEntity(p).getData();l=c?u.end:u.start;var h=y.Modifier.mergeBlockData(r.getCurrentContent(),o,{start:l,speaker:i});return n.setEditorNewContentState(h),"handled"}return"not-handled"},n.findClosestEntityKeyToSelectionPoint=function(e,t){var a=null,n=!1,r=e.getStartOffset(),o=t.getLength(),s=o-r;if(0===s){n=!0;for(var i=o;i>0;i--)if(null!==(a=t.getEntityAt(i)))return{entityKey:a,isEndOfParagraph:n}}else for(var l=e.getStartOffset(),c=0;c<s;c++)if(l+=c,null!==(a=t.getEntityAt(l)))return{entityKey:a,isEndOfParagraph:n};return{entityKey:a,isEndOfParagraph:n}},n.getCurrentWord=function(){var e={start:"NA",end:"NA"};if(n.props.transcriptData){var t=n.state.editorState.getCurrentContent(),a=Object(y.convertToRaw)(t).entityMap;for(var r in a){var o=a[r].data;o.start<=n.props.currentTime&&o.end>=n.props.currentTime&&(e.start=o.start,e.end=o.end)}}"NA"!==e.start&&(n.props.isScrollIntoViewOn&&document.querySelector('span.Word[data-start="'.concat(e.start,'"]')).scrollIntoView({block:"nearest",inline:"center"}));return e},n.onWordClick=function(e){n.props.onWordClick(e)},n.state={editorState:y.EditorState.createEmpty()},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e,t){e.timecodeOffset===this.props.timecodeOffset&&e.showSpeakers===this.props.showSpeakers&&e.showTimecodes===this.props.showTimecodes&&e.isEditable===this.props.isEditable||this.forceRenderDecorator()}},{key:"updateTimestampsForEditorState",value:function(){}},{key:"loadData",value:function(){if(null!==this.props.transcriptData){var e=Z(this.props.transcriptData,this.props.sttJsonType);this.setState({originalState:Object(y.convertToRaw)(Object(y.convertFromRaw)(e))}),this.setEditorContentState(e)}}},{key:"render",value:function(){var e=this.getCurrentWord(),t=Math.round(4*this.props.currentTime)/4,a=o.a.createElement("section",{className:je.a.editor,onDoubleClick:this.handleDoubleClick},o.a.createElement("style",{scoped:!0},'span.Word[data-start="'.concat(e.start,'"] { background-color: ').concat("#69e3c2","; text-shadow: 0 0 0.01px black }"),'span.Word[data-start="'.concat(e.start,'"]+span { background-color: ').concat("#69e3c2"," }"),'span.Word[data-prev-times~="'.concat(Math.floor(t),'"] { color: ').concat("#767676"," }"),'span.Word[data-prev-times~="'.concat(t,'"] { color: ').concat("#767676"," }"),'span.Word[data-confidence="low"] { border-bottom: '.concat("1px dotted blue"," }")),o.a.createElement(_,{editorState:this.state.editorState,onChange:this.onChange,stripPastedStyles:!0,handleKeyCommand:this.handleKeyCommand,customKeyBindingFn:this.customKeyBindingFn,spellCheck:this.props.spellCheck,showSpeakers:this.props.showSpeakers,showTimecodes:this.props.showTimecodes,timecodeOffset:this.props.timecodeOffset,setEditorNewContentState:this.setEditorNewContentState,setEditorNewContentStateSpeakersUpdate:this.setEditorNewContentStateSpeakersUpdate,onWordClick:this.onWordClick,handleAnalyticsEvents:this.props.handleAnalyticsEvents,isEditable:this.props.isEditable}));return o.a.createElement("section",null,null!==this.props.transcriptData?a:null)}}]),a}(o.a.Component),Ae=new y.CompositeDecorator([{strategy:(Oe="MUTABLE",function(e,t,a){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&a.getEntity(t).getMutability()===Oe}),t)}),component:O}]),Re=Be,Ne=a(41),De=a(102),Ie=a(26),Me=a.n(Ie),We=a(11),Ve=a(10),Fe=a(103),Ue=a.n(Fe),Ke=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.options.map((function(e,t){return o.a.createElement("option",{key:t,value:e.value},e.label)}));return o.a.createElement("select",{className:Ue.a.selectPlayerControl,name:this.props.name,value:this.props.currentValue,onChange:this.props.handleChange},e)}}]),a}(o.a.Component),Le=a(14),Je=a.n(Le),He=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).shouldComponentUpdate=function(t){return!Me()(e.props,t)},e}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("span",{className:Je.a.playBackRate,title:"Playback rate: alt - & alt + "},o.a.createElement(Ke,{options:this.props.playbackRateOptions,currentValue:this.props.playbackRate.toString(),name:"playbackRate",handleChange:this.props.handlePlayBackRateChange}))}}]),a}(o.a.Component),Ge=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).shouldComponentUpdate=function(t){return!Me()(e.props,t)},e.handleClick=function(t){e.props.promptSetCurrentTime(t)},e}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:Je.a.timeBox},o.a.createElement("span",{title:"Current time: alt t",className:Je.a.currentTime,onClick:this.handleClick},this.props.currentTime),o.a.createElement("span",{className:Je.a.separator},"|"),o.a.createElement("span",{title:"Clip duration",className:Je.a.duration},this.props.duration))}}]),a}(o.a.Component),ze=(o.a.Component,a(65)),qe=a.n(ze),Ze=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).shouldComponentUpdate=function(t){return!Me()(e.props,t)},e.handleOnChange=function(t){e.props.buttonClick(t)},e}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:qe.a.wrapper},o.a.createElement("input",{type:"range",className:qe.a.bar,onChange:this.handleOnChange,value:this.props.value,min:"0",max:this.props.max.toString()}))}}]),a}(o.a.Component);Ze.defaultProps={value:"0",max:"0"};var Qe=Ze;var Xe=function(e){return{"alt+k":{priority:1,handler:function(){e.togglePlayMedia(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+k",name:"togglePlayMedia",value:"na"})},displayKeyCombination:"alt + k",label:"Play Media"},"alt+l":{priority:1,handler:function(){e.skipForward(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+l",name:"skipForward",value:"na"})},displayKeyCombination:"alt + l",label:"Fast Forward"},"alt+j":{priority:1,handler:function(){e.skipBackward(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+j",name:"skipBackward",value:"na"})},displayKeyCombination:"alt + j",label:"Rewind"},"alt+-":{priority:1,handler:function(){e.decreasePlaybackRate(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+-",name:"decreasePlaybackRate",value:"na"})},displayKeyCombination:"alt + -",label:"Decrease Playback Speed"},"alt+=":{priority:1,handler:function(){e.increasePlaybackRate(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+plus",name:"increasePlaybackRate",value:"na"})},displayKeyCombination:"alt + +",label:"Increase Playback Speed"},"alt+r":{priority:1,handler:function(){e.rollBack(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+r",name:"rollBack",value:"na"})},displayKeyCombination:"alt + r",label:"Roll Back"},"alt+t":{priority:1,handler:function(){e.promptSetCurrentTime(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+t",name:"promptSetCurrentTime",value:"na"})},displayKeyCombination:"alt + t",label:"set current time"}}},Ye=a(35),$e=a.n(Ye),et=[{value:.2,label:"0.2"},{value:.25,label:"0.25"},{value:.5,label:"0.5"},{value:.75,label:"0.75"},{value:1,label:"1"},{value:1.25,label:"1.25"},{value:1.5,label:"1.5"},{value:1.75,label:"1.75"},{value:2,label:"2"},{value:2.5,label:"2.5"},{value:3,label:"3"},{value:3.5,label:"3.5"}],tt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).hot_keys=Xe(Object(Ne.a)(n)),n.setCurrentTime=function(e){if(""!==e&&null!==e){var t=w(e),a=n.props.videoRef.current;4===a.readyState&&(a.currentTime=t,n.playMedia())}},n.promptSetCurrentTime=function(){var e=prompt("Jump to time - hh:mm:ss:ff hh:mm:ss mm:ss m:ss m.ss seconds");n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"promptSetCurrentTime",name:"userTimecodeValue",value:e}),null!==e&&(e.includes(":")&&(e=w(e)),0!==n.state.timecodeOffset&&(e-=n.state.timecodeOffset),n.setCurrentTime(e))},n.setTimeCodeOffset=function(e){if(n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"setTimeCodeOffset",name:"timecodeOffsetValue",value:e}),""!==e&&null!==e){var t=e;e.includes(":")&&(t=w(e),n.setState({timecodeOffset:t}))}},n.rollBack=function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"rollBack",name:"rollBackValue",value:n.state.rollBackValueInSeconds});var e=n.props.videoRef.current.currentTime-n.state.rollBackValueInSeconds;n.setCurrentTime(e)},n.handlePlayBackRateChange=function(e){n.setPlayBackRate(parseFloat(e.target.value))},n.setPlayBackRate=function(e){e>=.2&&e<=3.5&&n.setState({playbackRate:e},(function(){n.props.videoRef.current.playbackRate=e,n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"setPlayBackRate",name:"playbackRateNewValue",value:e})}))},n.decreasePlaybackRate=function(){var e=Object(_e.a)(et).reverse().find((function(e){return e.value<n.state.playbackRate})),t=e?e.value:.2;n.setPlayBackRate(t)},n.increasePlaybackRate=function(){var e=Object(_e.a)(et).find((function(e){return e.value>n.state.playbackRate})),t=e?e.value:3.5;n.setPlayBackRate(t)},n.handleChangeReplayRollbackValue=function(e){n.setState({rollBackValueInSeconds:e.target.value})},n.handleMuteVolume=function(){n.props.videoRef.current.volume>0?(n.props.videoRef.current.volume=0,n.setState({isMute:!0})):(n.props.videoRef.current.volume=1,n.setState({isMute:!1}))},n.isPlaying=function(){return!n.props.videoRef.current.paused},n.pauseMedia=function(){n.setState({isPlaying:!1},(function(){return n.props.videoRef.current.pause()})),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"pauseMedia",name:"pauseMedia",value:g(n.props.videoRef.current.currentTime)})},n.playMedia=function(){n.setState({isPlaying:!0},(function(){return n.props.videoRef.current.play()})),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"playMedia",name:"playMedia",value:g(n.props.videoRef.current.currentTime)})},n.togglePlayMedia=function(){n.state.isPlaying?n.pauseMedia():n.playMedia()},n.skipForward=function(){var e=n.props.videoRef.current.currentTime,t=Number((e+10).toFixed(1));n.setCurrentTime(t)},n.skipBackward=function(){var e=n.props.videoRef.current.currentTime,t=Number((e-10).toFixed(1));n.setCurrentTime(t)},n.handleProgressBarClick=function(e){var t=e.target.value;n.setCurrentTime(t),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handleProgressBarClick",name:"roundNewCurrentTime",value:t})},n.getMediaCurrentTime=function(){return g(n.props.videoRef.current.currentTime+n.state.timecodeOffset)},n.handlePictureInPicture=function(){void 0!==document.pictureInPictureElement?document.pictureInPictureElement?(n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-off"}),document.exitPictureInPicture().catch((function(e){console.error("Video failed to leave Picture-in-Picture mode",e),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-off-error"})}))):(n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-on"}),n.props.videoRef.current.requestPictureInPicture().catch((function(e){console.error("Video failed to enter Picture-in-Picture mode",e),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-on-error"})}))):(alert("Picture in Picture not supported in this browser, try chrome."),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"picture-in-picture-not-supported"}))},n.getProgressBarMax=function(){return parseInt(n.props.videoRef.current.duration).toString()},n.getProgressBarValue=function(){return parseInt(n.props.videoRef.current.currentTime).toString()},n.state={playbackRate:1,rollBackValueInSeconds:n.props.rollBackValueInSeconds,timecodeOffset:n.props.timecodeOffset,hotKeys:Xe(Object(Ne.a)(n)),isPlaying:!1,playbackRateOptions:et,previewIsDisplayed:!0,isMute:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.hookSeek(this.setCurrentTime),this.props.hookPlayMedia(this.togglePlayMedia),this.props.hookIsPlaying(this.isPlaying)}},{key:"shouldComponentUpdate",value:function(e,t){return e.rollBackValueInSeconds!==this.state.rollBackValueInSeconds||(e.timecodeOffset!==this.state.timecodeOffset||(e.currentTime!==this.props.currentTime||(t.playbackRate!==this.state.playbackRate||(e.mediaDuration!==this.props.mediaDuration||t.isMute!==this.state.isMute))))}},{key:"render",value:function(){var e=o.a.createElement(Qe,{max:this.getProgressBarMax(),value:this.getProgressBarValue(),buttonClick:this.handleProgressBarClick});$e.a.controlsSection,this.props.title&&($e.a.title,this.props.title,this.props.title),this.togglePlayMedia.bind(this),this.state.isPlaying,this.state.isMute,this.state.playbackRate,this.skipBackward.bind(this),this.skipForward.bind(this),this.rollBack,this.getMediaCurrentTime(),this.props.mediaDuration,this.promptSetCurrentTime.bind(this),this.setTimeCodeOffset.bind(this),g(this.state.timecodeOffset),this.handleMuteVolume.bind(this),this.handlePlayBackRateChange.bind(this),this.state.playbackRateOptions,this.handlePictureInPicture,this.props.mediaUrl;return o.a.createElement("section",{className:$e.a.topSection},o.a.createElement("div",{className:$e.a.controlsSection},this.props.title?o.a.createElement("h2",{className:$e.a.title,title:this.props.title},this.props.title):null))}}],[{key:"getDerivedStateFromProps",value:function(e){if(null!==e.timecodeOffset){var t=e.timecodeOffset;return"string"===typeof t&&t.includes(":")&&!t.includes("NaN")&&(t=w(e.timecodeOffset)),{timecodeOffset:t,rollBackValueInSeconds:e.rollBackValueInSeconds}}return null}}]),a}(o.a.Component),at=Object(De.hotkeys)(tt),nt=a(104),rt=a.n(nt),ot=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handlePlayMedia=function(){if(null!==e.props.videoRef.current)return e.props.videoRef.current.paused?e.props.videoRef.current.play():e.props.videoRef.current.pause()},e}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.previewIsDisplayed!==this.props.previewIsDisplayed||e.mediaUrl!==this.props.mediaUrl}},{key:"render",value:function(){var e=this.props.previewIsDisplayed?"inline":"none";return o.a.createElement("video",{id:"video",playsInline:!0,src:this.props.mediaUrl,onTimeUpdate:this.props.onTimeUpdate,"data-testid":"media-player-id",onClick:this.handlePlayMedia,onLoadedData:this.props.onLoadedDataGetDuration,ref:this.props.videoRef,className:rt.a.videoEl,preload:"auto",style:{display:e}})}}]),a}(o.a.Component),st=a(48),it=a.n(st),lt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:it.a.switchContainer},o.a.createElement("label",{className:it.a.switch},o.a.createElement("input",{type:"checkbox",defaultChecked:this.props.defaultValue,onChange:this.props.handleToggle}),o.a.createElement("span",{className:it.a.slider})))}}]),a}(o.a.Component),ct=a(43),pt=a.n(ct),dt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({timecodeOffset:e.target.value})},n.resetTimecodeOffset=function(){void 0!==n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TimecodeOffset",action:"resetTimecodeOffset",name:"resetTimecodeOffset",value:0}),n.setState({timecodeOffset:g(0)},(function(){n.props.handleSetTimecodeOffset(0)}))},n.setTimecodeOffset=function(){void 0!==n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TimecodeOffset",action:"setTimecodeOffset",name:"setTimecodeOffset",value:n.state.timecodeOffset});var e=n.state.timecodeOffset;"string"===typeof e&&e.includes(":")&&!e.includes("NaN")&&(e=w(e)),n.props.handleSetTimecodeOffset(e)},n.state={timecodeOffset:g(n.props.timecodeOffset)},n}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:pt.a.offsetContainer},o.a.createElement("input",{className:pt.a.inputBox,type:"text",value:this.state.timecodeOffset,onChange:this.handleChange,name:"lname"}),o.a.createElement("span",{className:pt.a.button,onClick:this.resetTimecodeOffset},o.a.createElement("u",null,"Reset")),o.a.createElement("span",null," | "),o.a.createElement("span",{className:pt.a.button,onClick:this.setTimecodeOffset},o.a.createElement("u",null,"Save")))}}]),a}(o.a.Component),ut=a(12),ht=a.n(ut),mt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:ht.a.settings},o.a.createElement("h2",{className:ht.a.header},"Settings Panel"),o.a.createElement("div",{className:ht.a.closeButton,onClick:this.props.handleSettingsToggle},o.a.createElement(Ve.a,{icon:We.o})),o.a.createElement("div",{className:ht.a.controlsContainer},o.a.createElement("section",{className:ht.a.settingElement},o.a.createElement("div",{className:ht.a.label},"Pause While Typing"),o.a.createElement(lt,{defaultValue:this.props.defaultValuePauseWhileTyping,label:"Pause while typing",handleToggle:this.props.handlePauseWhileTyping})),o.a.createElement("section",{className:ht.a.settingElement},o.a.createElement("div",{className:ht.a.label},"Scroll Sync"),o.a.createElement(lt,{defaultValue:this.props.defaultValueScrollSync,label:"ScrollSync",handleToggle:this.props.handleIsScrollIntoViewChange})),o.a.createElement("section",{className:ht.a.settingElement},o.a.createElement("div",{className:ht.a.label},"Rollback Interval (sec)"),o.a.createElement("input",{className:ht.a.rollbackValue,type:"number",step:"1",max:"60",min:"1",value:this.props.defaultRollBackValueInSeconds,onChange:this.props.handleRollBackValueInSeconds,name:"lname"})),o.a.createElement("section",{className:ht.a.settingElement},o.a.createElement("div",{className:ht.a.label},"Show Timecodes"),o.a.createElement(lt,{defaultValue:this.props.showTimecodes,label:"Hide Timecodes",handleToggle:this.props.handleShowTimecodes})),o.a.createElement("section",{className:ht.a.settingElement},o.a.createElement("div",{className:ht.a.label},"Show Speaker Labels"),o.a.createElement(lt,{defaultValue:this.props.showSpeakers,label:"Hide Speaker Labels",handleToggle:this.props.handleShowSpeakers})),o.a.createElement("section",{className:ht.a.settingElement},o.a.createElement("div",{className:ht.a.label},"Display Preview"),o.a.createElement(lt,{defaultValue:this.props.previewIsDisplayed,label:"Display Preview",handleToggle:this.props.handlePreviewIsDisplayed})),o.a.createElement("section",{className:ht.a.settingElement},o.a.createElement("div",{className:ht.a.timecodeLabel},"Timecode Offset \u2139"),o.a.createElement(dt,{timecodeOffset:this.props.timecodeOffset,handleSetTimecodeOffset:this.props.handleSetTimecodeOffset,handleAnalyticsEvents:this.props.handleAnalyticsEvents}))))}}]),a}(o.a.Component);var ft=function(e){return{"alt+k":{priority:1,handler:function(){e.togglePlayMedia(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+k",name:"togglePlayMedia",value:"na"})},displayKeyCombination:"alt + k",label:"Play Media"},"alt+l":{priority:1,handler:function(){e.skipForward(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+l",name:"skipForward",value:"na"})},displayKeyCombination:"alt + l",label:"Fast Forward"},"alt+j":{priority:1,handler:function(){e.skipBackward(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+j",name:"skipBackward",value:"na"})},displayKeyCombination:"alt + j",label:"Rewind"},"alt+-":{priority:1,handler:function(){e.decreasePlaybackRate(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+-",name:"decreasePlaybackRate",value:"na"})},displayKeyCombination:"alt + -",label:"Decrease Playback Speed"},"alt+=":{priority:1,handler:function(){e.increasePlaybackRate(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+plus",name:"increasePlaybackRate",value:"na"})},displayKeyCombination:"alt + +",label:"Increase Playback Speed"},"alt+r":{priority:1,handler:function(){e.rollBack(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+r",name:"rollBack",value:"na"})},displayKeyCombination:"alt + r",label:"Roll Back"},"alt+t":{priority:1,handler:function(){e.promptSetCurrentTime(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+t",name:"promptSetCurrentTime",value:"na"})},displayKeyCombination:"alt + t",label:"set current time"}}},yt=a(28),vt=a.n(yt),gt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=ft(this),t=Object.keys(e).map((function(t){var a=e[t];return o.a.createElement("li",{key:t,className:vt.a.listItem},o.a.createElement("div",{className:vt.a.shortcut},a.displayKeyCombination),o.a.createElement("div",{className:vt.a.shortcutLabel},a.label))}));return o.a.createElement("div",{className:vt.a.shortcuts},o.a.createElement("h2",{className:vt.a.header},"Shortcuts"),o.a.createElement("div",{className:vt.a.closeButton,onClick:this.props.handleShortcutsToggle},o.a.createElement(Ve.a,{icon:We.o})),o.a.createElement("ul",{className:vt.a.list},t))}}]),a}(o.a.Component),kt=a(13),Et=a.n(kt),bt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e!==this.props}},{key:"render",value:function(){var e=this.props;return o.a.createElement(o.a.Fragment,null,o.a.createElement("header",{className:Et.a.header},e.showSettings?e.settings:null,e.showShortcuts?e.shortcuts:null,e.showExportOptions?e.exportOptions:null,e.tooltip),o.a.createElement("nav",{className:Et.a.nav},null===e.mediaUrl?null:e.mediaControls))}}]),a}(o.a.Component),wt=a(36),St=a.n(wt),Ct=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.exportOptionsList.map((function(t,a){var n;return o.a.createElement(o.a.Fragment,null,o.a.createElement("button",(n={key:t.label+a,title:t.label,className:St.a.playerButton},Object(f.a)(n,"key",t.value),Object(f.a)(n,"onClick",e.props.handleExportOptionsChange),Object(f.a)(n,"value",t.value),n),t.label),o.a.createElement("br",null))}));return o.a.createElement("div",{className:St.a.settings},o.a.createElement("h2",{className:St.a.header},"Export Options"),o.a.createElement("div",{className:St.a.closeButton,onClick:this.props.handleExportToggle},o.a.createElement(Ve.a,{icon:We.o})),o.a.createElement("div",{className:St.a.controlsContainer},t))}}]),a}(o.a.Component),xt=a(106),Tt=o.a.createElement("div",{className:Et.a.helpMessage},o.a.createElement("span",null,o.a.createElement(Ve.a,{className:Et.a.icon,icon:We.e}),"Double click on a word or timestamp to jump to that point in the video."),o.a.createElement("span",null,o.a.createElement(Ve.a,{className:Et.a.icon,icon:We.c}),"Start typing to edit text."),o.a.createElement("span",null,o.a.createElement(Ve.a,{className:Et.a.icon,icon:We.l}),"You can add and change names of speakers in your transcript."),o.a.createElement("span",null,o.a.createElement(Ve.a,{className:Et.a.icon,icon:We.d}),"Use keyboard shortcuts for quick control."),o.a.createElement("span",null,o.a.createElement(Ve.a,{className:Et.a.icon,icon:We.i}),"Save & export to get a copy to your desktop.")),_t=(xt.a,Et.a.help,Ve.a,Et.a.icon,We.h,[{value:"txt",label:"Text file"},{value:"txtspeakertimecodes",label:"Text file - with Speakers and Timecodes"},{value:"docx",label:"MS Word"},{value:"srt",label:"Srt - Captions"},{value:"ttml",label:"TTML - Captions"},{value:"premiereTTML",label:"TTML for Adobe Premiere - Captions"},{value:"itt",label:"iTT - Captions"},{value:"csv",label:"CSV - Captions"},{value:"vtt",label:"VTT - Captions"},{value:"pre-segment-txt",label:"Pre segmented txt - Captions"},{value:"json-captions",label:"Json - Captions"},{value:"draftjs",label:"Draft Js - json"},{value:"digitalpaperedit",label:"Digital Paper Edit - Json"}]),Ot=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).shouldComponentUpdate=function(e,t){return e.mediaUrl!==n.props.mediaUrl||t!==n.state},n.componentDidMount=function(){n.updateDimensions(),window.addEventListener("resize",n.updateDimensions)},n.updateDimensions=function(){var e={display:"grid",gridTemplateColumns:"1fr 3fr",gridColumnGap:"1em"},t=null;"audio"===n.props.mediaType&&(console.log("this.props.mediaType",n.props.mediaType),e=null,t={display:"none"}),Math.max(document.documentElement.clientWidth,window.innerWidth||0)<=767&&(e=null),n.setState({gridDisplay:e,displayMedia:t})},n.handleWordClick=function(e){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"doubleClickOnWord",name:"startTime",value:g(e)}),n.setCurrentTime(e)},n.handleTimeUpdate=function(e){var t=e.target.currentTime;n.setState({currentTime:t})},n.handlePlayMedia=function(e){n.playMedia(e)},n.handleIsPlaying=function(){return n.isPlaying()},n.handleIsScrollIntoViewChange=function(e){var t=e.target.checked;n.setState({isScrollIntoViewOn:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleIsScrollIntoViewChange",name:"isScrollIntoViewOn",value:t})},n.handlePauseWhileTyping=function(e){var t=e.target.checked;n.setState({isPauseWhileTypingOn:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handlePauseWhileTyping",name:"isPauseWhileTypingOn",value:t})},n.handleRollBackValueInSeconds=function(e){var t=e.target.value;n.setState({rollBackValueInSeconds:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleRollBackValueInSeconds",name:"rollBackValueInSeconds",value:t})},n.handleSetTimecodeOffset=function(e){n.setState({timecodeOffset:e},(function(){n.timedTextEditorRef.current.forceUpdate()}))},n.handleShowTimecodes=function(e){var t=e.target.checked;n.setState({showTimecodes:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleShowTimecodes",name:"showTimecodes",value:t})},n.handleShowSpeakers=function(e){var t=e.target.checked;n.setState({showSpeakers:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleShowSpeakers",name:"showSpeakers",value:t})},n.handleSettingsToggle=function(){n.setState((function(e){return{showSettings:!e.showSettings}}),(function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleSettingsToggle",name:"showSettings",value:!n.state.showSettings})}))},n.handleShortcutsToggle=function(){n.setState((function(e){return{showShortcuts:!e.showShortcuts}}),(function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleShortcutsToggle",name:"showShortcuts",value:!n.state.showShortcuts})}))},n.handleExportToggle=function(){console.log("handleExportToggle",n.state.showExportOptions),n.setState((function(e){return{showExportOptions:!e.showExportOptions}}),(function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleExportToggle",name:"showExportOptions",value:!n.state.showExportOptions})}))},n.handleExportOptionsChange=function(e){var t=e.target.value;if(console.log(t),"instructions"!==t){var a=n.props.title?n.props.title:n.props.mediaUrl,r=n.getEditorContent(t),o=r.data,s=r.ext,i=o;"json"===s&&(i=JSON.stringify(o,null,2)),"docx"!==s&&n.download(i,"".concat(a,".").concat(s)),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleExportOptionsChange",name:"exportFile",value:t})}},n.download=function(e,t,a){var n=a||"application/octet-stream",r=document.createElement("a"),o=new Blob([e],{type:n});r.href=window.URL.createObjectURL(o),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)},n.getEditorContent=function(e){var t=n.props.title?n.props.title:"";return n.timedTextEditorRef.current.getEditorContent(e,t)},n.handlePreviewIsDisplayed=function(){n.setState({previewIsDisplayed:!n.state.previewIsDisplayed})},n.onLoadedDataGetDuration=function(e){var t=e.target.duration,a=t+n.state.timecodeOffset,r=g(a);n.setState({mediaDuration:r}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"onLoadedDataGetDuration",name:"durationInSeconds-WithoutOffset",value:g(t)})},n.handleChangePreviewViewWidth=function(e){var t=e.target.value;n.setState({previewViewWidth:t})},n.handleAutoSaveChanges=function(e){n.props.handleAutoSaveChanges&&n.props.handleAutoSaveChanges(e)},n.videoRef=o.a.createRef(),n.state={currentTime:0,transcriptData:null,isScrollIntoViewOn:!1,showSettings:!1,showShortcuts:!1,showExportOptions:!1,isPauseWhileTypingOn:!0,rollBackValueInSeconds:15,timecodeOffset:0,showTimecodes:!0,showSpeakers:!0,previewIsDisplayed:!0,mediaDuration:"00:00:00:00",gridDisplay:null},n.timedTextEditorRef=o.a.createRef(),n.summaryInput=o.a.createRef(),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=o.a.createElement(ot,{mediaUrl:this.props.mediaUrl,onTimeUpdate:this.handleTimeUpdate,videoRef:this.videoRef,previewIsDisplayed:this.state.previewIsDisplayed,onLoadedDataGetDuration:this.onLoadedDataGetDuration}),a=o.a.createElement(at,{title:this.props.title?this.props.title:"",mediaDuration:this.state.mediaDuration,currentTime:this.state.currentTime,hookSeek:function(t){return e.setCurrentTime=t},hookPlayMedia:function(t){return e.playMedia=t},hookIsPlaying:function(t){return e.isPlaying=t},rollBackValueInSeconds:this.state.rollBackValueInSeconds,timecodeOffset:this.state.timecodeOffset,mediaUrl:this.props.mediaUrl,handleAnalyticsEvents:this.props.handleAnalyticsEvents,videoRef:this.videoRef}),n=o.a.createElement(mt,{handleSettingsToggle:this.handleSettingsToggle,defaultValuePauseWhileTyping:this.state.isPauseWhileTypingOn,defaultValueScrollSync:this.state.isScrollIntoViewOn,defaultRollBackValueInSeconds:this.state.rollBackValueInSeconds,timecodeOffset:this.state.timecodeOffset,showTimecodes:this.state.showTimecodes,showSpeakers:this.state.showSpeakers,handlePauseWhileTyping:this.handlePauseWhileTyping,handleIsScrollIntoViewChange:this.handleIsScrollIntoViewChange,handleRollBackValueInSeconds:this.handleRollBackValueInSeconds,handleSetTimecodeOffset:this.handleSetTimecodeOffset,handleShowTimecodes:this.handleShowTimecodes,handleShowSpeakers:this.handleShowSpeakers,handleAnalyticsEvents:this.props.handleAnalyticsEvents,previewIsDisplayed:this.state.previewIsDisplayed,handlePreviewIsDisplayed:this.handlePreviewIsDisplayed,handleChangePreviewViewWidth:this.handleChangePreviewViewWidth}),r=o.a.createElement(Ct,{exportOptionsList:_t,handleExportOptionsChange:this.handleExportOptionsChange,handleExportToggle:this.handleExportToggle}),s=o.a.createElement(gt,{handleShortcutsToggle:this.handleShortcutsToggle}),i="draftjs";this.props.autoSaveContentType?i=this.props.autoSaveContentType:this.props.sttJsonType&&(i=this.props.sttJsonType);var l=o.a.createElement(Re,{fileName:this.props.fileName,transcriptData:this.state.transcriptData,timecodeOffset:this.state.timecodeOffset,onWordClick:this.handleWordClick,playMedia:this.handlePlayMedia,isPlaying:this.handleIsPlaying,currentTime:this.state.currentTime,isEditable:this.props.isEditable,spellCheck:this.props.spellCheck,sttJsonType:this.props.sttJsonType,mediaUrl:this.props.mediaUrl,isScrollIntoViewOn:this.state.isScrollIntoViewOn,isPauseWhileTypingOn:this.state.isPauseWhileTypingOn,showTimecodes:this.state.showTimecodes,showSpeakers:this.state.showSpeakers,ref:this.timedTextEditorRef,handleAnalyticsEvents:this.props.handleAnalyticsEvents,handleAutoSaveChanges:this.handleAutoSaveChanges,autoSaveContentType:i,title:this.props.title?this.props.title:Date.now()}),c=o.a.createElement(bt,{mediaUrl:this.props.mediaUrl,mediaControls:this.videoRef.current?a:null,showSettings:this.state.showSettings,showShortcuts:this.state.showShortcuts,showExportOptions:this.state.showExportOptions,settings:n,shortcuts:s,exportOptions:r,handleExportToggle:this.handleExportToggle,handleSettingsToggle:this.handleSettingsToggle,handleShortcutsToggle:this.handleShortcutsToggle});return o.a.createElement("div",{className:Et.a.container},this.props.mediaUrl?c:null,o.a.createElement("div",{className:Et.a.grid},o.a.createElement("section",{className:Et.a.row,style:this.state.gridDisplay},o.a.createElement("aside",Object(f.a)({className:Et.a.aside,style:this.state.displayMedia},"style",{paddingLeft:"0.75em"}),this.props.mediaUrl?t:null,o.a.createElement("div",null,o.a.createElement("label",{for:"summary"},"Summary"),o.a.createElement("textarea",{ref:this.summaryInput,name:"summary",rows:"6",cols:"55",style:{padding:"0.5em"}}))),o.a.createElement("main",{className:"audio"===this.props.mediaType?Et.a.mainWithAudiio:Et.a.main},this.props.mediaUrl&&this.props.transcriptData?l:null))))}}],[{key:"getDerivedStateFromProps",value:function(e){return null!==e.transcriptData?{transcriptData:e.transcriptData}:null}}]),a}(o.a.Component),Pt=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).loadVideo=function(){var e=document.getElementById("transcriptData"),t=document.getElementById("mediaUrl"),a=document.getElementById("title");fetch(e.value).then((function(e){return e.json()})).then((function(e){n.setState({transcriptData:e})})).catch(console.log),n.setState({mediaUrl:t.value,title:a.value,sttType:"google-stt"})},n.state={transcriptData:null,mediaUrl:null,isTextEditable:!1,spellCheck:!1,sttType:"google-stt",analyticsEvents:[],title:"",fileName:"",autoSaveData:{},autoSaveContentType:"draftjs",autoSaveExtension:"json"},n.transcriptEditorRef=o.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadVideo()}},{key:"render",value:function(){return o.a.createElement("div",{className:"Summary_annotation"},o.a.createElement(m,null),o.a.createElement(Ot,{transcriptData:this.state.transcriptData,fileName:this.state.fileName,mediaUrl:this.state.mediaUrl,isEditable:this.state.isTextEditable,spellCheck:this.state.spellCheck,sttJsonType:this.state.sttType,handleAnalyticsEvents:this.handleAnalyticsEvents,title:this.state.title,ref:this.transcriptEditorRef,handleAutoSaveChanges:this.handleAutoSaveChanges,autoSaveContentType:this.state.autoSaveContentType,mediaType:"video"}))}}]),a}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Pt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,t,a){e.exports={shortcuts:"keyboard-shortcuts_shortcuts__2swkx",header:"keyboard-shortcuts_header__NuhLA",closeButton:"keyboard-shortcuts_closeButton__3er9F",list:"keyboard-shortcuts_list__jnAk_",listItem:"keyboard-shortcuts_listItem__1TzzX",shortcut:"keyboard-shortcuts_shortcut__30R3D",shortcutLabel:"keyboard-shortcuts_shortcutLabel__vpBex"}},34:function(e,t,a){e.exports={unselectable:"WrapperBlock_unselectable__hU6QO",markers:"WrapperBlock_markers__3K8G3",WrapperBlock:"WrapperBlock_WrapperBlock__3ORF6",speaker:"WrapperBlock_speaker__3292e",text:"WrapperBlock_text__2-HUA",time:"WrapperBlock_time__3dZaD",speakerEditable:"WrapperBlock_speakerEditable__3tFkP",speakerNotEditable:"WrapperBlock_speakerNotEditable__3f0oJ",EditLabel:"WrapperBlock_EditLabel__2xvZJ"}},35:function(e,t,a){e.exports={topSection:"media-player_topSection__3PvSj",playerSection:"media-player_playerSection__1kHsH",controlsSection:"media-player_controlsSection__2zuBP",title:"media-player_title__3Z1Ji"}},36:function(e,t,a){e.exports={settings:"src_settings__4QuRl",header:"src_header__qzCif",closeButton:"src_closeButton__3VXOJ",controlsContainer:"src_controlsContainer__1vQty",settingElement:"src_settingElement__jGE9a",label:"src_label__vApSA",rollbackValue:"src_rollbackValue__Jq3w-",timecodeLabel:"src_timecodeLabel__2e9q_",playerButton:"src_playerButton__1Zs-d"}},43:function(e,t,a){e.exports={offsetContainer:"TimecodeOffset_offsetContainer__3fg-M",inputBox:"TimecodeOffset_inputBox__2hVnK",button:"TimecodeOffset_button__3fQGw"}},48:function(e,t,a){e.exports={switchContainer:"Toggle_switchContainer__42-hg",switch:"Toggle_switch__1O_V_",slider:"Toggle_slider__CPVDs"}},65:function(e,t,a){e.exports={wrapper:"ProgressBar_wrapper__2sHhL",bar:"ProgressBar_bar__2rKBI"}},66:function(e,t,a){}},[[107,1,2]]]);
//# sourceMappingURL=main.0543e442.chunk.js.map