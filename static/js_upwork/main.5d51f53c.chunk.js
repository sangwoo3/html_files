(this["webpackJsonpsummary_annotation-app"]=this["webpackJsonpsummary_annotation-app"]||[]).push([[0],{129:function(e,t,a){e.exports={wrapper:"ProgressBar_wrapper__2sHhL",bar:"ProgressBar_bar__2rKBI"}},135:function(e,t,a){},18:function(e,t,a){e.exports={settings:"settings_settings__AdO6f",header:"settings_header__c3Jc0",closeButton:"settings_closeButton__Jtol5",controlsContainer:"settings_controlsContainer__1Gt4w",settingElement:"settings_settingElement__1JxjQ",label:"settings_label__19tSW",rollbackValue:"settings_rollbackValue__1PZun",timecodeLabel:"settings_timecodeLabel__YhjC-"}},19:function(e,t,a){e.exports={container:"transcript-editor_container__3hdJZ",main:"transcript-editor_main__3DGq4",mainWithAudiio:"transcript-editor_mainWithAudiio__3HnA-",help:"transcript-editor_help__29Bsr",helpMessage:"transcript-editor_helpMessage__3r62M",settingsButton:"transcript-editor_settingsButton__3l9kS",icon:"transcript-editor_icon__2dGb9",aside:"transcript-editor_aside__2AmOZ",settingsContainer:"transcript-editor_settingsContainer__2l_VH",grid:"transcript-editor_grid__24fjN",row:"transcript-editor_row__1-gs_",keyboardShortcutsButon:"transcript-editor_keyboardShortcutsButon__29Ao4"}},197:function(e,t,a){e.exports={"DraftEditor-root":"timed-text-editor_DraftEditor-root__fFyJE",editor:"timed-text-editor_editor__2nhWu"}},199:function(e,t,a){e.exports={selectPlayerControl:"Select_selectPlayerControl__OgWvy"}},20:function(e,t,a){e.exports={playerControls:"PlayerControls_playerControls__3k5i8",playerButton:"PlayerControls_playerButton__f4oZ5",playBackRate:"PlayerControls_playBackRate__1I_Tx",timeBox:"PlayerControls_timeBox__JSqhF",currentTime:"PlayerControls_currentTime__19qr3",separator:"PlayerControls_separator__1iH51",duration:"PlayerControls_duration__3u5sn",btnsGroup:"PlayerControls_btnsGroup__2KJb3",pip:"PlayerControls_pip__2UFjK"}},200:function(e,t,a){e.exports={videoEl:"video-player_videoEl__3PDdn"}},221:function(e,t,a){e.exports=a(464)},226:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},227:function(e,t,a){},464:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),s=a.n(o),i=(a(135),a(36)),l=a(3),c=a(4),d=a(6),p=a(5),u=(a(226),a(227),a(47)),h=a(14),m=a(53),f=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getWordCount=function(){var e=n.props.text.replace(/(?:\r\n|\r|\n)/g," ").trim().match(/\S+/g);return e?e.length:0},n.sentenceNumber=function(e){return e.split("-")[1]},n.handleChecked=function(){n.setState({isChecked:!n.state.isChecked});var e=n.getWordCount();n.props.handleNumWord&&(n.state.isChecked?n.props.handleNumWord({category:"CheckBox",action:"removeSelection",sent:1*n.sentenceNumber(n.props.name),value:-e,text:n.props.text}):n.props.handleNumWord({category:"CheckBox",action:"addSelection",sent:1*n.sentenceNumber(n.props.name),value:e,text:n.props.text}))},n.state={isChecked:!1},n.handleChecked=n.handleChecked.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:"segmentCheckbox"},r.a.createElement("input",{type:"checkbox",id:this.props.name,name:this.props.name,value:this.props.name,onChange:this.handleChecked,style:{marginRight:"8px",verticalAlign:"middle"}}),r.a.createElement("label",{for:this.props.name,style:{fontSize:"13px"}},this.props.name))}}]),a}(n.PureComponent),y=function(e,t){var a=25;void 0!==t&&(a=t);var n=function(e,t){return Number((1/t*Math.floor(Number((t*e).toPrecision(12)))).toFixed(2))}(e,a),r=Math.floor(n),o=((n-r)*a).toFixed(2);function s(e){return e<10?"0".concat(parseInt(e)):parseInt(e)}return"".concat(s(r/60/60%60),":").concat(s(r/60%60),":").concat(s(r%60),":").concat(s(o))},v=function(e,t){var a=25;void 0!==t&&(a=t);var n=function(e,t){var a=e.split(":"),n=parseInt(a[3]);return n+=parseInt(a[2])*t,n+=parseInt(a[1])*(60*t),n+=parseInt(a[0])*(60*t*60)}(e,a);return Number(Number(n/a).toFixed(2))},g=function(e){return 1===e.length},k=function(e){if("string"!==typeof e)return e;switch(e.split(":").length){case 4:return e;case 2:return g(e.split(":")[0])?"00:0".concat(e,":00"):"00:".concat(e,":00");case 3:return"".concat(e,":00");default:return function(e){return e.includes(".")}(e)?g(e.split(".")[0])?"00:0".concat(e.split(".")[0],":").concat(e.split(".")[1],":00"):"00:".concat(e.replace(".",":"),":00"):g(e)?"00:00:0".concat(e,":00"):"00:00:".concat(e,":00")}},E=function(e){if("string"===typeof e){var t=k(e);return v(t)}return parseFloat(e)},b=function(e){return y(e).slice(0,-3)},w=a(60),S=a.n(w),C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).shouldComponentUpdate=function(e,t){return e.block.getText()!==n.props.block.getText()||(e.blockProps.showSpeakers!==n.props.blockProps.showSpeakers||(e.blockProps.showTimecodes!==n.props.blockProps.showTimecodes||(e.blockProps.timecodeOffset!==n.props.blockProps.timecodeOffset||(t.speaker!==n.state.speaker||(e.blockProps.isEditable!==n.props.blockProps.isEditable||e.block.getData().get("speaker")!==n.state.speaker)))))},n.handleTimecodeClick=function(){n.props.blockProps.onWordClick(n.state.start),n.props.blockProps.handleAnalyticsEvents&&n.props.blockProps.handleAnalyticsEvents({category:"WrapperBlock",action:"handleTimecodeClick",name:"onWordClick",value:y(n.state.start)})},n.state={speaker:"",start:0,timecodeOffset:n.props.blockProps.timecodeOffset},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.block,t=e.getData().get("speaker"),a=e.getData().get("start");this.setState({speaker:t,start:a})}},{key:"render",value:function(){var e=this,t=this.state.start;this.props.blockProps.timecodeOffset&&(t+=this.props.blockProps.timecodeOffset);var a=r.a.createElement("span",{className:S.a.time,onClick:this.handleTimecodeClick},b(t));return r.a.createElement("div",{className:S.a.WrapperBlock},r.a.createElement("div",{className:[S.a.markers,S.a.unselectable].join(" "),contentEditable:!1},r.a.createElement(f,{name:"".concat(function(){var t=(e.props.block.getData().get("speaker")||"").split(" ")[1];return"sentence-".concat(t)}()),text:this.props.block.text,handleNumWord:this.props.blockProps.handleNumWord}),this.props.blockProps.showTimecodes?a:""),r.a.createElement("div",{className:S.a.text},this.props.block.text))}}]),a}(r.a.Component),x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleWordClick=function(t){e.props.onWordClick(t)},e.renderBlockWithTimecodes=function(){return{component:C,editable:!1,props:{showSpeakers:e.props.showSpeakers,showTimecodes:e.props.showTimecodes,timecodeOffset:e.props.timecodeOffset,editorState:e.props.editorState,setEditorNewContentState:e.props.setEditorNewContentState,setEditorNewContentStateSpeakersUpdate:e.props.setEditorNewContentStateSpeakersUpdate,onWordClick:e.handleWordClick,handleAnalyticsEvents:e.props.handleAnalyticsEvents,isEditable:e.props.isEditable,handleNumWord:e.props.handleNumWord}}},e.handleOnChange=function(t){e.props.onChange(t)},e}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.editorState!==this.props.editorState||e.isEditable!==this.props.isEditable}},{key:"render",value:function(){return r.a.createElement(h.Editor,{editorState:this.props.editorState,onChange:this.handleOnChange,stripPastedStyles:!0,blockRendererFn:this.renderBlockWithTimecodes,handleKeyCommand:this.props.handleKeyCommand,keyBindingFn:this.props.customKeyBindingFn,spellCheck:this.props.spellCheck})}}]),a}(r.a.Component),T=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).generateConfidence=function(e){return e.confidence?e.confidence>.6?"high":"low":"high"},e.generatePreviousTimes=function(e){for(var t="",a=0;a<e.start;a++)t+="".concat(a," ");if(e.start%1>0){var n=Math.floor(e.start%1*4)/4;t+=" ".concat(Math.floor(e.start)+n)}return t},e}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.decoratedText!==this.props.decoratedText}},{key:"render",value:function(){var e=this.props.entityKey?this.props.contentState.getEntity(this.props.entityKey).getData():{};return r.a.createElement("span",{"data-start":e.start,"data-end":e.end,"data-confidence":this.generateConfidence(e),"data-prev-times":this.generatePreviousTimes(e),"data-entity-key":e.key,className:"Word"},this.props.children)}}]),a}(n.Component),O=function(e,t){var a=0;return e.map((function(e){var n={start:e.start,end:e.end,confidence:e.confidence,text:e[t],offset:a,length:e[t].length,key:Math.random().toString(36).substring(6)};return a=a+e[t].length+1,n}))};var _=function(e,t){return function(e){var t=e[0].speaker,a=[],n={words:[],text:"",speaker:""};return e.forEach((function(e){t===e.speaker?(n.words.push(e),n.text+=e.punct+" ",n.speaker=t):(t=e.speaker,n.text=n.text.trim(),a.push(n),(n={words:[],text:"",speaker:"U_UKN"}).words.push(e),n.text+=e.punct+" ")})),a.push(n),a}(function(e,t){var a=[];return e.forEach((function(e){var n,r=function(e,t){var a=t.find((function(t){var a=t.start+t.duration;return e.start>=t.start&&e.end<=a}));return void 0===a?{"@type":"Segment",speaker:{"@id":"UKN",gender:"U"}}:a}(e,t);e.speaker=(n=r.speaker).gender+"_"+n["@id"],a.push(e)})),a}(e,t.segments))},P=function(e){var t,a=[],n=null;return void 0!==e.retval?(t=e.retval.words,void 0!==e.retval.segmentation&&(n=e.retval.segmentation)):(t=e.words,void 0!==e.segmentation&&(n=e.segmentation)),(null===n?function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){/[.?!]/.test(e.punct)?(a.words.push(e),a.text.push(e.punct),a.text=a.text.join(" "),t.push(a),a={words:[],text:[]}):(a.words.push(e),a.text.push(e.punct))})),t}(t):_(t,n)).forEach((function(e,t){if(void 0!==e.words[0]){var r="TBC ".concat(t);null!==n&&(r=e.speaker);var o={text:e.text,type:"paragraph",data:{speaker:r,words:e.words,start:e.words[0].start,checked:!1},entityRanges:O(e.words,"punct")};a.push(o)}})),a},j=function(e){var t=[];return function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){e.paragraph.forEach((function(e){e.line.forEach((function(e){var n={text:e.text,start:e.startTime,end:e.endTime};/[.?!]/.test(e.text)?(a.words.push(n),a.text.push(e.text),t.push(a),a={words:[],text:[]}):(a.words.push(n),a.text.push(e.text))}))}))})),t}(e.text).forEach((function(e,a){var n={text:e.text.join(" "),type:"paragraph",data:{speaker:"TBC ".concat(a),words:e.words,start:e.words[0].start},entityRanges:O(e.words,"text")};t.push(n)})),t},N=function(e,t){for(var a in t){var n=t[a],r=parseFloat(e);if(r>=n.start&r<n.end)return n.name}return"UNK"},R=function(e){var t=[];return function(e,t,a){var n,r=[],o={words:[],text:[],speaker:""},s=N(e[0].start,t),i=!1;return e.forEach((function(e){((n=N(e.start,t))!==s||o.words.length>a&&i)&&(o.speaker=s,r.push(o),s=n,o={words:[],text:[]}),o.words.push(e),o.text.push(e.punct),i=!!/[.?!]/.test(e.punct)})),o.speaker=s,r.push(o),r}(function(e){var t=[];return e.forEach((function(e){/[.?!]/.test(e.name)?(t[t.length-1].name=t[t.length-1].name+e.name,t[t.length-1].duration=(parseFloat(t[t.length-1].duration)+parseFloat(e.duration)).toString()):t.push(e)})),t}(e.words).map((function(e,t){return{start:e.time,end:(parseFloat(e.time)+parseFloat(e.duration)).toString(),confidence:e.confidence,word:e.name.toLowerCase().replace(/[.?!]/g,""),punct:e.name,index:t}})),e.speakers.map((function(e){return{start:parseFloat(e.time),end:parseFloat(e.time)+parseFloat(e.duration),name:e.name}})),150).forEach((function(e){var a=e.words[0].start,n={text:e.text.join(" "),type:"paragraph",data:{speaker:e.speaker,words:e.words,start:a},entityRanges:O(e.words,"punct")};t.push(n)})),t},B=a(72),A=function(e,t){var a=parseFloat(e.start_time),n=parseFloat(e.end_time),r=t.find((function(e){return a>=parseFloat(e.start_time)&&n<=parseFloat(e.end_time)}));return void 0===r?"UKN":r.speaker_label.replace("spk_","")},W=function(e,t){return function(e){var t=[],a="";return e.forEach((function(e){e.speaker_label===a?t[t.length-1].words.push(e):(a=e.speaker_label,t.push({speaker:e.speaker_label,words:[e]}))})),t}(function(e,t){return e.map((function(e){return Object.assign(e,{speaker_label:A(e,t)})}))}(e,t.segments))},D=function(e){return/punctuation/.test(e.type)?Object.assign(e.alternatives[0],{confidence:1}):e.alternatives.reduce((function(e,t){return parseFloat(e.confidence)>parseFloat(t.confidence)?e:t}))},I=function(e){var t=D(e);return{start:parseFloat(e.start_time),end:parseFloat(e.end_time),text:t.content,confidence:parseFloat(t.confidence)}},M=function(e){var t=[];return e.map((function(a,n){return"punctuation"===a.type?(t.push(n-1),function(e,t){var a=e.alternatives[0].content;return Object(B.a)(Object(B.a)({},t),{},{alternatives:t.alternatives.map((function(e){return Object(B.a)(Object(B.a)({},e),{},{content:e.content+(t=a,t.replace(/^\s/,""))});var t}))})}(a,e[n-1])):a})).filter((function(e,a){return!t.includes(a)}))},V=function(e){var t=[],a=e.results.items,n=e.results.speaker_labels,r=M(a);return("undefined"!=typeof n?function(e,t){return W(e,t).map((function(e){return{words:e.words.map(I),text:e.words.map((function(e){return D(e).content})),speaker:e.speaker}}))}(r,n):function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){var n=D(e).content,r=I(e);/[.?!]/.test(n)?(a.words.push(r),a.text.push(n),t.push(a),a={words:[],text:[]}):(a.words.push(r),a.text.push(n))})),t}(r)).forEach((function(e,a){var n={text:e.text.join(" "),type:"paragraph",data:{speaker:e.speaker?"Speaker ".concat(e.speaker):"TBC ".concat(a),words:e.words,start:parseFloat(e.words[0].start)},entityRanges:O(e.words,"text")};t.push(n)})),t},F=function(e){var t,a,n=function(e){var t=[];return e.forEach((function(e){t.push(e.alternatives[0].timestamps.map((function(e){return{text:e[0],start:e[1],end:e[2]}})))})),t}(e.results[0].results);return function(e){var t=[];return e.forEach((function(e){var a={text:e.map((function(e){return e.text})).join(" "),type:"paragraph",data:{speaker:e[0].speaker,words:e,start:e[0].start},entityRanges:O(e,"text")};t.push(a)})),t}((t=n,a=e.results[0].speaker_labels,t.map((function(e){return e.map((function(e){return e.speaker=function(e,t){var a=t.find((function(t){var a=t.from,n=t.to;return e.start===a&&e.end===n}));return void 0===a?"UKN":"S_".concat(a.speaker)}(e,a),e}))}))))};var U=function(e,t){return function(e,t){var a=[],n="UKN",r=0,o=0,s={words:[],text:"",speaker:""};return e.forEach((function(e){(n=function(e,t){return t.find((function(t){if(e.start>=t.start&&e.end<=t.end)return t}))}(e,t))&&((r=t.indexOf(n))===o?(s.words.push(e),s.text+=e.text+" ",s.speaker=n.speaker):(o=r,s.text.trim(),a.push(s),(s={words:[],text:"",speaker:""}).words.push(e),s.text+=e.text+" ",s.speaker=n.speaker))})),a.push(s),a}(e,t)},K=function(e){var t=e.words,a=e.paragraphs;return(a?U(t,a):function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){a.words.push(e),a.text.push(e.text),/[.?!]/.test(e.text)&&(a.text=a.text.join(" "),t.push(a),a={words:[],text:[]})})),t}(t)).map((function(e,t){return e.speaker||(e.speaker="TBC ".concat(t)),function(e){var t=e.words;return{text:e.text,type:"paragraph",data:{speaker:e.speaker,words:t,start:t.length>0?t[0].start:0},entityRanges:O(t,"text")}}(e)}))},L=function(e){var t=function e(t){return t.reduce((function(t,a){return t.concat(Array.isArray(a)?e(a):a)}),[])}(e.map((function(e){return e.entityRanges}))),a={};return t.forEach((function(e){a[e.key]={type:"WORD",mutability:"MUTABLE",data:e}})),a},J=function(e,t){var a=parseFloat(e);return void 0!==t&&(a+=parseFloat(t/1e9)),a},H=function(e){var t=[],a={words:[],text:[]};return e.forEach((function(e){var n=function(e){return 0===e.alternatives.length?e[0]:e.alternatives.reduce((function(e,t){return parseFloat(e.confidence)>parseFloat(t.confidence)?e:t}))}(e);a.text.push(n.transcript.trim()),n.words.forEach((function(e){var t,r;a.words.push((t=e,r=n.confidence,{start:J(t.startTime.seconds,t.startTime.nanos),end:J(t.endTime.seconds,t.endTime.nanos),text:t.word,confidence:r}))})),t.push(a),a={words:[],text:[]}})),t},G=function(e){var t=[];return H(e.results).forEach((function(e,a){var n={text:e.text.join(" "),type:"paragraph",data:{speaker:e.speaker?"Speaker ".concat(e.speaker):"TBC ".concat(a),words:e.words,start:parseFloat(e.words[0].start)},entityRanges:O(e.words,"text")};t.push(n)})),t},z=function(e,t){var a;switch(t){case"bbckaldi":return{blocks:a=P(e),entityMap:L(a)};case"autoedit2":return{blocks:a=j(e),entityMap:L(a)};case"speechmatics":return{blocks:a=R(e),entityMap:L(a)};case"ibm":return{blocks:a=F(e),entityMap:L(a)};case"draftjs":return e;case"amazontranscribe":return{blocks:a=V(e),entityMap:L(a)};case"digitalpaperedit":return{blocks:a=K(e),entityMap:L(a)};case"google-stt":return{blocks:a=G(e),entityMap:L(a)};default:console.error("Did not recognize the stt engine.")}},q=function(e){return e.blocks.map((function(e){return"".concat(e.text)})).join("\n\n")},Z=a(39),Q=function(e,t){return function(e,t){var a=new Z.Document({creator:"Test",description:"Test Description",title:t}),n=new Z.TextRun(t),r=new Z.Paragraph;r.addRun(n),r.heading1().center(),a.addParagraph(r);var o=new Z.Paragraph;a.addParagraph(o),e.blocks.forEach((function(e){var t=new Z.Paragraph(b(e.data.words[0].start)),n=new Z.TextRun(e.data.speaker).bold().tab(),r=new Z.TextRun("").break();t.addRun(n),a.addParagraph(t);var o=new Z.Paragraph(e.text);o.addRun(r),a.addParagraph(o)})),(new Z.Packer).toBlob(a).then((function(e){var a="".concat(t,".docx"),n=document.createElement("a");return n.href=window.URL.createObjectURL(e),n.download=a,n.click(),e}))}(e,t)};var Y=function(e){return e.blocks.map((function(e){return"".concat(e.data.speaker," \t [").concat(b(e.data.start),"] \t ").concat(e.text)})).join("\n\n")},X=function(e){var t={words:[],paragraphs:[]};return e.blocks.forEach((function(e,a){if(void 0!==e.data.words){var n={id:a,start:e.data.words[0].start,end:e.data.words[e.data.words.length-1].end,speaker:e.data.speaker};t.paragraphs.push(n);var r=e.data.words.map((function(e){var t={id:e.index,start:e.start,end:e.end,text:null};return e.text?t.text=e.text:(e.punct||e.word)&&(t.text=e.punct),t}));t.words=t.words.concat(r)}})),t},$=a(193),ee=a.n($);var te=function(e,t){var a=null;void 0!==t&&(a=t);var n={newline_boundaries:!0,html_boundaries:!1,sanitize:!1,allowed_tags:!1,abbreviations:a};return ee.a.sentences(e,n).join("\n")};var ae=function(e){return e.replace(/\n/g,"\n\n")};var ne=function(e){return e.replace(/\n /g,"\n")};var re=function(e,t){return e.split("\n\n").map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,a=0,n=e.map((function(e,n,r){if((a+=e.length+1)<=t){if(void 0!==r[n+1]){var o=r[n+1].length;return a+o<t?e:(a=0,"".concat(e,"\n"))}return e}return a=0,"".concat(e,"\n")}));return n}(e.split(" "),t)})).map((function(e){return e.join(" ")})).map((function(e){return ne(e)})).join("\n\n")};var oe=function(e){return e.map((function(e){return e.replace(/^\s+/g,"")}))};var se=function(e){var t=e.split("\n"),a=0,n=t.map((function(e){return""===e?e:0===a?(a+=1,"."===e[e.length-1][0]?e+"\n\n":e+"\n"):1===a?(a=0,e+"\n\n"):void 0}));return n=(n=(n=oe(n)).filter((function(e){return 0!==e.length}))).join("").trim()};function ie(e){return e.map((function(e){return e.text})).join(" ")}var le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:35,a=e;"object"===typeof e&&(a=ie(e));var n=te(a),r=ae(n),o=re(r,t),s=se(o);return s},ce=/&/g,de=/</g,pe=/>/g,ue=function(e){return e.replace(ce,"&amp;").replace(de,"&lt;").replace(pe,"&gt;")},he=function(e){return new Date(1e3*e.toFixed(3)).toISOString().substr(11,12)},me=function(e){var t='<?xml version="1.0" encoding="UTF-8" standalone="no" ?>\n    <tt xmlns="http://www.w3.org/ns/ttml"\n    xmlns:ttp="http://www.w3.org/ns/ttml#parameter"\n    ttp:timeBase="media"\n    xmlns:m608="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt#cea608"\n    xmlns:smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"\n    xmlns:ttm="http://www.w3.org/ns/ttml#metadata">\n    <head>\n    <metadata>\n    <smpte:information m608:captionService="F1C1CC" m608:channel="cc1"/>\n    </metadata>\n    <styling></styling>\n    <layout></layout>\n    </head>\n    <body><div>';return e.forEach((function(e){t+='<p begin="'.concat(he(parseFloat(e.start)),'" end="').concat(he(parseFloat(e.end)),'">').concat(ue(e.text).replace(/\n/g,"<br />"),"</p>\n")})),t+="</div>\n</body>\n</tt>"},fe=a(194),ye=a.n(fe),ve=function(e,t){return ye()(Math.round(e),t,!1).toString().replace(/^00/,"01")},ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-GB",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,n='<?xml version="1.0" encoding="UTF-8"?>\n        <tt\n          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n          xmlns="http://www.w3.org/ns/ttml"\n          xmlns:tt="http://www.w3.org/ns/ttml"\n          xmlns:tts="http://www.w3.org/ns/ttml#styling"\n          xmlns:ttp="http://www.w3.org/ns/ttml#parameter"\n          xml:lang="'.concat(t,'"\n          ttp:timeBase="smpte"\n          ttp:frameRate="').concat(a,'"\n          ttp:frameRateMultiplier="').concat(25===a?"1 1":"999 1000",'"\n          ttp:dropMode="nonDrop"\n        >\n        <head>\n          <styling>\n            <style\n              xml:id="normal"\n              tts:fontFamily="sansSerif"\n              tts:fontWeight="normal"\n              tts:fontStyle="normal"\n              tts:color="white"\n              tts:fontSize="100%"\n            />\n          </styling>\n          <layout>\n            <region\n              xml:id="bottom"\n              tts:origin="0% 85%"\n              tts:extent="100% 15%"\n              tts:textAlign="center"\n              tts:displayAlign="after"\n            />\n          </layout>\n        </head>\n        <body style="normal" region="bottom">\n          <div begin="-01:00:00:00">');return e.forEach((function(e){n+='<p begin="'.concat(ve(parseFloat(e.start)*a,a),'" end="').concat(ve(parseFloat(e.end)*a,a),'">').concat(ue(e.text).replace(/\n/g,"<br />"),"</p>\n")})),n+="</div>\n</body>\n</tt>"},ke=function(e){var t='<?xml version="1.0" encoding="UTF-8"?>\n    <tt xmlns="http://www.w3.org/ns/ttml">\n    <head></head>\n    <body>\n    <div>';return e.forEach((function(e){t+='<p begin="'.concat(he(parseFloat(e.start)),'" end="').concat(he(parseFloat(e.end)),'">').concat(ue(e.text).replace(/\n/g,"<br />"),"</p>\n")})),t+="</div>\n</body>\n</tt>"},Ee=function(e){var t="";return e.forEach((function(e,a){t+="".concat(a+1,"\n").concat(he(parseFloat(e.start)).replace(".",",")," --\x3e ").concat(he(parseFloat(e.end)).replace(".",","),"\n").concat(e.text.trim(),"\n\n")})),t},be=function(e){var t="WEBVTT\n\n";return e.forEach((function(e,a){t+="".concat(a+1,"\n").concat(he(parseFloat(e.start))," --\x3e ").concat(he(parseFloat(e.end)),"\n").concat(e.text,"\n\n")})),t};var we=function(e){var t="N, In, Out, Text\n";return e.forEach((function(e,a){t+="".concat(a+1,","),t+='"'.concat(e.start,'","').concat(e.end,'",'),t+='"'.concat(e.text.replace(/\n/g,"\r\n"),'"\n')})),t};var Se=function(e){var t=e.words,a=e.type,n=e.numberOfCharPerLine,r=function(e,t){return function(e,t){var a=0,n=0;return t.map((function(t){n+=t.trim().replace(/\n /g,"").replace(/\n/g," ").split(" ").length;var r={text:t.trim()};return r.start=e[a].start,r.end=e[n-1].end,a=n,r}))}(e,function(e){var t=e.split("\n\n");return t=t.map((function(e){return e.trim()}))}(le(e,t)))}(t,n);if("string"===typeof t)return le(t,n);switch(a){case"premiere":return me(r);case"ttml":return ke(r);case"itt":return ge(r);case"srt":return Ee(r);case"vtt":return be(r);case"json":return r;case"csv":return we(r);case"pre-segment-txt":case"txt":return le(t,n);default:return{ttml:ke(r),premiere:me(r),itt:ge(r),srt:Ee(r),vtt:be(r),json:r}}},Ce=function(e,t,a){switch(t){case"draftjs":return{data:e,ext:"json"};case"txt":return{data:q(e),ext:"txt"};case"docx":return{data:Q(e,a),ext:"docx"};case"txtspeakertimecodes":return{data:Y(e),ext:"txt"};case"digitalpaperedit":return{data:X(e),ext:"json"};case"srt":var n=X(e).words;return{data:Se({words:n,type:"srt",numberOfCharPerLine:35}),ext:"srt"};case"premiereTTML":n=X(e).words;return{data:Se({words:n,type:"premiere"}),ext:"ttml"};case"ttml":n=X(e).words;return{data:Se({words:n,type:"ttml"}),ext:"ttml"};case"itt":n=X(e).words;return{data:Se({words:n,type:"itt"}),ext:"itt"};case"csv":n=X(e).words;return{data:Se({words:n,type:"csv"}),ext:"csv"};case"vtt":n=X(e).words;return{data:Se({words:n,type:"vtt"}),ext:"vtt"};case"json-captions":n=X(e).words;return{data:Se({words:n,type:"json"}),ext:"json"};case"pre-segment-txt":n=X(e).words;return{data:Se({words:n,type:"pre-segment-txt"}),ext:"txt"};default:console.error("Did not recognise the export format")}};a(195),a(196),a(127);var xe,Te=a(197),Oe=a.n(Te),_e=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).shouldComponentUpdate=function(e,t){return e!==n.props||t!==n.state},n.onChange=function(e){},n.handleDoubleClick=function(e){for(var t=e.nativeEvent.target;!t.hasAttribute("data-start")&&t.parentElement;)t=t.parentElement;if(t.hasAttribute("data-start")){var a=parseFloat(t.getAttribute("data-start"));n.props.onWordClick(a)}},n.getWordCount=function(e){var t=e.getCurrentContent().getPlainText("").replace(/(?:\r\n|\r|\n)/g," ").trim().match(/\S+/g);return t?t.length:0},n.setEditorContentState=function(e){var t=Object(h.convertFromRaw)(e),a=h.EditorState.createWithContent(t,Pe);n.setState({editorState:a},(function(){n.forceRenderDecorator()}))},n.forceRenderDecorator=function(){console.log(">>>>force rerender");var e=n.state.editorState.getCurrentContent(),t=n.state.editorState.getDecorator(),a=h.EditorState.createWithContent(e,t),r=h.EditorState.push(a,e);n.setState({editorState:r})},n.setEditorNewContentState=function(e){var t=n.state.editorState.getDecorator(),a=h.EditorState.createWithContent(e,t),r=h.EditorState.push(a,e);n.setState({editorState:r})},n.setEditorNewContentStateSpeakersUpdate=function(e){var t=n.state.editorState.getDecorator(),a=h.EditorState.createWithContent(e,t),r=h.EditorState.push(a,e);n.setState((function(){return{editorState:r}}),(function(){var e=n.props.autoSaveContentType,t=n.props.title,a=Ce(Object(h.convertToRaw)(r.getCurrentContent()),e,t);n.props.handleAutoSaveChanges(a)}))},n.customKeyBindingFn=function(e){return 13===e.keyCode?(console.log("customKeyBindingFn"),"split-paragraph"):!e.altKey||32!==e.keyCode&&32!==e.keyCode&&75!==e.keyCode&&76!==e.keyCode&&74!==e.keyCode&&187!==e.keyCode&&189!==e.keyCode&&82!==e.keyCode&&84!==e.keyCode?Object(h.getDefaultKeyBinding)(e):(e.preventDefault(),"keyboard-shortcuts")},n.handleKeyCommand=function(e){return"split-paragraph"===e&&n.splitParagraph(),"keyboard-shortcuts"===e?"handled":"not-handled"},n.splitParagraph=function(){var e=n.state.editorState.getSelection();if(e.isCollapsed()){var t=n.state.editorState.getCurrentContent(),a=h.Modifier.splitBlock(t,e),r=h.EditorState.push(n.state.editorState,a,"split-block"),o=r.getSelection(),s=t.blockMap.get(a.selectionBefore.getStartKey()),i=s.getData().get("speaker"),l="NA",c=!1,d=s.getEntityAt(e.getStartOffset());if(null===d){var p=n.findClosestEntityKeyToSelectionPoint(e,s);if(d=p.entityKey,c=p.isEndOfParagraph,null===d)return"not-handled"}var u=t.getEntity(d).getData();l=c?u.end:u.start;var m=h.Modifier.mergeBlockData(r.getCurrentContent(),o,{start:l,speaker:i});return n.setEditorNewContentState(m),"handled"}return"not-handled"},n.findClosestEntityKeyToSelectionPoint=function(e,t){var a=null,n=!1,r=e.getStartOffset(),o=t.getLength(),s=o-r;if(0===s){n=!0;for(var i=o;i>0;i--)if(null!==(a=t.getEntityAt(i)))return{entityKey:a,isEndOfParagraph:n}}else for(var l=e.getStartOffset(),c=0;c<s;c++)if(l+=c,null!==(a=t.getEntityAt(l)))return{entityKey:a,isEndOfParagraph:n};return{entityKey:a,isEndOfParagraph:n}},n.getCurrentWord=function(){var e={start:"NA",end:"NA"};if(n.props.transcriptData){var t=n.state.editorState.getCurrentContent(),a=Object(h.convertToRaw)(t).entityMap;for(var r in a){var o=a[r].data;o.start<=n.props.currentTime&&o.end>=n.props.currentTime&&(e.start=o.start,e.end=o.end)}}"NA"!==e.start&&(n.props.isScrollIntoViewOn&&document.querySelector('span.Word[data-start="'.concat(e.start,'"]')).scrollIntoView({block:"nearest",inline:"center"}));return e},n.onWordClick=function(e){n.props.onWordClick(e)},n.state={editorState:h.EditorState.createEmpty()},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"componentDidUpdate",value:function(e,t){e.timecodeOffset===this.props.timecodeOffset&&e.showSpeakers===this.props.showSpeakers&&e.showTimecodes===this.props.showTimecodes&&e.isEditable===this.props.isEditable||this.forceRenderDecorator()}},{key:"updateTimestampsForEditorState",value:function(){}},{key:"loadData",value:function(){if(null!==this.props.transcriptData){var e=z(this.props.transcriptData,this.props.sttJsonType);this.setState({originalState:Object(h.convertToRaw)(Object(h.convertFromRaw)(e))}),this.setEditorContentState(e)}}},{key:"render",value:function(){var e=this.getCurrentWord(),t=Math.round(4*this.props.currentTime)/4,a=r.a.createElement("section",{className:Oe.a.editor,onDoubleClick:this.handleDoubleClick},r.a.createElement("style",{scoped:!0},'span.Word[data-start="'.concat(e.start,'"] { background-color: ').concat("#69e3c2","; text-shadow: 0 0 0.01px black }"),'span.Word[data-start="'.concat(e.start,'"]+span { background-color: ').concat("#69e3c2"," }"),'span.Word[data-prev-times~="'.concat(Math.floor(t),'"] { color: ').concat("#767676"," }"),'span.Word[data-prev-times~="'.concat(t,'"] { color: ').concat("#767676"," }"),'span.Word[data-confidence="low"] { border-bottom: '.concat("1px dotted blue"," }")),r.a.createElement(x,{editorState:this.state.editorState,onChange:this.onChange,stripPastedStyles:!0,handleKeyCommand:this.handleKeyCommand,customKeyBindingFn:this.customKeyBindingFn,spellCheck:this.props.spellCheck,showSpeakers:this.props.showSpeakers,showTimecodes:this.props.showTimecodes,timecodeOffset:this.props.timecodeOffset,setEditorNewContentState:this.setEditorNewContentState,setEditorNewContentStateSpeakersUpdate:this.setEditorNewContentStateSpeakersUpdate,onWordClick:this.onWordClick,handleAnalyticsEvents:this.props.handleAnalyticsEvents,isEditable:this.props.isEditable,handleNumWord:this.props.handleNumWord}));return r.a.createElement("section",null,null!==this.props.transcriptData?a:null)}}]),a}(r.a.Component),Pe=new h.CompositeDecorator([{strategy:(xe="MUTABLE",function(e,t,a){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&a.getEntity(t).getMutability()===xe}),t)}),component:T}]),je=_e,Ne=a(198),Re=a(46),Be=a.n(Re),Ae=a(16),We=a(15),De=a(199),Ie=a.n(De),Me=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.options.map((function(e,t){return r.a.createElement("option",{key:t,value:e.value},e.label)}));return r.a.createElement("select",{className:Ie.a.selectPlayerControl,name:this.props.name,value:this.props.currentValue,onChange:this.props.handleChange},e)}}]),a}(r.a.Component),Ve=a(20),Fe=a.n(Ve),Ue=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).shouldComponentUpdate=function(t){return!Be()(e.props,t)},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("span",{className:Fe.a.playBackRate,title:"Playback rate: alt - & alt + "},r.a.createElement(Me,{options:this.props.playbackRateOptions,currentValue:this.props.playbackRate.toString(),name:"playbackRate",handleChange:this.props.handlePlayBackRateChange}))}}]),a}(r.a.Component),Ke=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).shouldComponentUpdate=function(t){return!Be()(e.props,t)},e.handleClick=function(t){e.props.promptSetCurrentTime(t)},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:Fe.a.timeBox},r.a.createElement("span",{title:"Current time: alt t",className:Fe.a.currentTime,onClick:this.handleClick},this.props.currentTime),r.a.createElement("span",{className:Fe.a.separator},"|"),r.a.createElement("span",{title:"Clip duration",className:Fe.a.duration},this.props.duration))}}]),a}(r.a.Component),Le=(r.a.Component,a(129)),Je=a.n(Le),He=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).shouldComponentUpdate=function(t){return!Be()(e.props,t)},e.handleOnChange=function(t){e.props.buttonClick(t)},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:Je.a.wrapper},r.a.createElement("input",{type:"range",className:Je.a.bar,onChange:this.handleOnChange,value:this.props.value,min:"0",max:this.props.max.toString()}))}}]),a}(r.a.Component);He.defaultProps={value:"0",max:"0"};var Ge=He;var ze=function(e){return{"alt+k":{priority:1,handler:function(){e.togglePlayMedia(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+k",name:"togglePlayMedia",value:"na"})},displayKeyCombination:"alt + k",label:"Play Media"},"alt+l":{priority:1,handler:function(){e.skipForward(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+l",name:"skipForward",value:"na"})},displayKeyCombination:"alt + l",label:"Fast Forward"},"alt+j":{priority:1,handler:function(){e.skipBackward(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+j",name:"skipBackward",value:"na"})},displayKeyCombination:"alt + j",label:"Rewind"},"alt+-":{priority:1,handler:function(){e.decreasePlaybackRate(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+-",name:"decreasePlaybackRate",value:"na"})},displayKeyCombination:"alt + -",label:"Decrease Playback Speed"},"alt+=":{priority:1,handler:function(){e.increasePlaybackRate(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+plus",name:"increasePlaybackRate",value:"na"})},displayKeyCombination:"alt + +",label:"Increase Playback Speed"},"alt+r":{priority:1,handler:function(){e.rollBack(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+r",name:"rollBack",value:"na"})},displayKeyCombination:"alt + r",label:"Roll Back"},"alt+t":{priority:1,handler:function(){e.promptSetCurrentTime(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+t",name:"promptSetCurrentTime",value:"na"})},displayKeyCombination:"alt + t",label:"set current time"}}},qe=a(61),Ze=a.n(qe),Qe=[{value:.2,label:"0.2"},{value:.25,label:"0.25"},{value:.5,label:"0.5"},{value:.75,label:"0.75"},{value:1,label:"1"},{value:1.25,label:"1.25"},{value:1.5,label:"1.5"},{value:1.75,label:"1.75"},{value:2,label:"2"},{value:2.5,label:"2.5"},{value:3,label:"3"},{value:3.5,label:"3.5"}],Ye=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).hot_keys=ze(Object(m.a)(n)),n.setCurrentTime=function(e){if(""!==e&&null!==e){var t=E(e),a=n.props.videoRef.current;4===a.readyState&&(a.currentTime=t,n.playMedia())}},n.promptSetCurrentTime=function(){var e=prompt("Jump to time - hh:mm:ss:ff hh:mm:ss mm:ss m:ss m.ss seconds");n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"promptSetCurrentTime",name:"userTimecodeValue",value:e}),null!==e&&(e.includes(":")&&(e=E(e)),0!==n.state.timecodeOffset&&(e-=n.state.timecodeOffset),n.setCurrentTime(e))},n.setTimeCodeOffset=function(e){if(n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"setTimeCodeOffset",name:"timecodeOffsetValue",value:e}),""!==e&&null!==e){var t=e;e.includes(":")&&(t=E(e),n.setState({timecodeOffset:t}))}},n.rollBack=function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"rollBack",name:"rollBackValue",value:n.state.rollBackValueInSeconds});var e=n.props.videoRef.current.currentTime-n.state.rollBackValueInSeconds;n.setCurrentTime(e)},n.handlePlayBackRateChange=function(e){n.setPlayBackRate(parseFloat(e.target.value))},n.setPlayBackRate=function(e){e>=.2&&e<=3.5&&n.setState({playbackRate:e},(function(){n.props.videoRef.current.playbackRate=e,n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"setPlayBackRate",name:"playbackRateNewValue",value:e})}))},n.decreasePlaybackRate=function(){var e=Object(i.a)(Qe).reverse().find((function(e){return e.value<n.state.playbackRate})),t=e?e.value:.2;n.setPlayBackRate(t)},n.increasePlaybackRate=function(){var e=Object(i.a)(Qe).find((function(e){return e.value>n.state.playbackRate})),t=e?e.value:3.5;n.setPlayBackRate(t)},n.handleChangeReplayRollbackValue=function(e){n.setState({rollBackValueInSeconds:e.target.value})},n.handleMuteVolume=function(){n.props.videoRef.current.volume>0?(n.props.videoRef.current.volume=0,n.setState({isMute:!0})):(n.props.videoRef.current.volume=1,n.setState({isMute:!1}))},n.isPlaying=function(){return!n.props.videoRef.current.paused},n.pauseMedia=function(){n.setState({isPlaying:!1},(function(){return n.props.videoRef.current.pause()})),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"pauseMedia",name:"pauseMedia",value:y(n.props.videoRef.current.currentTime)})},n.playMedia=function(){n.setState({isPlaying:!0},(function(){return n.props.videoRef.current.play()})),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"playMedia",name:"playMedia",value:y(n.props.videoRef.current.currentTime)})},n.togglePlayMedia=function(){n.state.isPlaying?n.pauseMedia():n.playMedia()},n.skipForward=function(){var e=n.props.videoRef.current.currentTime,t=Number((e+10).toFixed(1));n.setCurrentTime(t)},n.skipBackward=function(){var e=n.props.videoRef.current.currentTime,t=Number((e-10).toFixed(1));n.setCurrentTime(t)},n.handleProgressBarClick=function(e){var t=e.target.value;n.setCurrentTime(t),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handleProgressBarClick",name:"roundNewCurrentTime",value:t})},n.getMediaCurrentTime=function(){return y(n.props.videoRef.current.currentTime+n.state.timecodeOffset)},n.handlePictureInPicture=function(){void 0!==document.pictureInPictureElement?document.pictureInPictureElement?(n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-off"}),document.exitPictureInPicture().catch((function(e){console.error("Video failed to leave Picture-in-Picture mode",e),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-off-error"})}))):(n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-on"}),n.props.videoRef.current.requestPictureInPicture().catch((function(e){console.error("Video failed to enter Picture-in-Picture mode",e),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"turning-picture-in-picture-on-error"})}))):(alert("Picture in Picture not supported in this browser, try chrome."),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"MediaPlayer",action:"handlePictureInPicture",name:"picture-in-picture-not-supported"}))},n.getProgressBarMax=function(){return parseInt(n.props.videoRef.current.duration).toString()},n.getProgressBarValue=function(){return parseInt(n.props.videoRef.current.currentTime).toString()},n.state={playbackRate:1,rollBackValueInSeconds:n.props.rollBackValueInSeconds,timecodeOffset:n.props.timecodeOffset,hotKeys:ze(Object(m.a)(n)),isPlaying:!1,playbackRateOptions:Qe,previewIsDisplayed:!0,isMute:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.hookSeek(this.setCurrentTime),this.props.hookPlayMedia(this.togglePlayMedia),this.props.hookIsPlaying(this.isPlaying)}},{key:"shouldComponentUpdate",value:function(e,t){return e.rollBackValueInSeconds!==this.state.rollBackValueInSeconds||(e.timecodeOffset!==this.state.timecodeOffset||(e.currentTime!==this.props.currentTime||(t.playbackRate!==this.state.playbackRate||(e.mediaDuration!==this.props.mediaDuration||t.isMute!==this.state.isMute))))}},{key:"render",value:function(){var e=r.a.createElement(Ge,{max:this.getProgressBarMax(),value:this.getProgressBarValue(),buttonClick:this.handleProgressBarClick});Ze.a.controlsSection,this.props.title&&(Ze.a.title,this.props.title,this.props.title),this.togglePlayMedia.bind(this),this.state.isPlaying,this.state.isMute,this.state.playbackRate,this.skipBackward.bind(this),this.skipForward.bind(this),this.rollBack,this.getMediaCurrentTime(),this.props.mediaDuration,this.promptSetCurrentTime.bind(this),this.setTimeCodeOffset.bind(this),y(this.state.timecodeOffset),this.handleMuteVolume.bind(this),this.handlePlayBackRateChange.bind(this),this.state.playbackRateOptions,this.handlePictureInPicture,this.props.mediaUrl;return r.a.createElement("section",{className:Ze.a.topSection},r.a.createElement("div",{className:Ze.a.controlsSection},this.props.title?r.a.createElement("h2",{className:Ze.a.title,title:this.props.title},this.props.title):null))}}],[{key:"getDerivedStateFromProps",value:function(e){if(null!==e.timecodeOffset){var t=e.timecodeOffset;return"string"===typeof t&&t.includes(":")&&!t.includes("NaN")&&(t=E(e.timecodeOffset)),{timecodeOffset:t,rollBackValueInSeconds:e.rollBackValueInSeconds}}return null}}]),a}(r.a.Component),Xe=Object(Ne.hotkeys)(Ye),$e=a(200),et=a.n($e),tt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handlePlayMedia=function(){if(null!==e.props.videoRef.current)return e.props.videoRef.current.paused?e.props.videoRef.current.play():e.props.videoRef.current.pause()},e}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e.previewIsDisplayed!==this.props.previewIsDisplayed||e.mediaUrl!==this.props.mediaUrl}},{key:"render",value:function(){var e=this.props.previewIsDisplayed?"inline":"none";return r.a.createElement("video",{id:"video",playsInline:!0,src:this.props.mediaUrl,onTimeUpdate:this.props.onTimeUpdate,"data-testid":"media-player-id",onClick:this.handlePlayMedia,onLoadedData:this.props.onLoadedDataGetDuration,ref:this.props.videoRef,className:et.a.videoEl,preload:"auto",style:{display:e}})}}]),a}(r.a.Component),at=a(89),nt=a.n(at),rt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:nt.a.switchContainer},r.a.createElement("label",{className:nt.a.switch},r.a.createElement("input",{type:"checkbox",defaultChecked:this.props.defaultValue,onChange:this.props.handleToggle}),r.a.createElement("span",{className:nt.a.slider})))}}]),a}(r.a.Component),ot=a(73),st=a.n(ot),it=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({timecodeOffset:e.target.value})},n.resetTimecodeOffset=function(){void 0!==n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TimecodeOffset",action:"resetTimecodeOffset",name:"resetTimecodeOffset",value:0}),n.setState({timecodeOffset:y(0)},(function(){n.props.handleSetTimecodeOffset(0)}))},n.setTimecodeOffset=function(){void 0!==n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TimecodeOffset",action:"setTimecodeOffset",name:"setTimecodeOffset",value:n.state.timecodeOffset});var e=n.state.timecodeOffset;"string"===typeof e&&e.includes(":")&&!e.includes("NaN")&&(e=E(e)),n.props.handleSetTimecodeOffset(e)},n.state={timecodeOffset:y(n.props.timecodeOffset)},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:st.a.offsetContainer},r.a.createElement("input",{className:st.a.inputBox,type:"text",value:this.state.timecodeOffset,onChange:this.handleChange,name:"lname"}),r.a.createElement("span",{className:st.a.button,onClick:this.resetTimecodeOffset},r.a.createElement("u",null,"Reset")),r.a.createElement("span",null," | "),r.a.createElement("span",{className:st.a.button,onClick:this.setTimecodeOffset},r.a.createElement("u",null,"Save")))}}]),a}(r.a.Component),lt=a(18),ct=a.n(lt),dt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:ct.a.settings},r.a.createElement("h2",{className:ct.a.header},"Settings Panel"),r.a.createElement("div",{className:ct.a.closeButton,onClick:this.props.handleSettingsToggle},r.a.createElement(We.a,{icon:Ae.o})),r.a.createElement("div",{className:ct.a.controlsContainer},r.a.createElement("section",{className:ct.a.settingElement},r.a.createElement("div",{className:ct.a.label},"Pause While Typing"),r.a.createElement(rt,{defaultValue:this.props.defaultValuePauseWhileTyping,label:"Pause while typing",handleToggle:this.props.handlePauseWhileTyping})),r.a.createElement("section",{className:ct.a.settingElement},r.a.createElement("div",{className:ct.a.label},"Scroll Sync"),r.a.createElement(rt,{defaultValue:this.props.defaultValueScrollSync,label:"ScrollSync",handleToggle:this.props.handleIsScrollIntoViewChange})),r.a.createElement("section",{className:ct.a.settingElement},r.a.createElement("div",{className:ct.a.label},"Rollback Interval (sec)"),r.a.createElement("input",{className:ct.a.rollbackValue,type:"number",step:"1",max:"60",min:"1",value:this.props.defaultRollBackValueInSeconds,onChange:this.props.handleRollBackValueInSeconds,name:"lname"})),r.a.createElement("section",{className:ct.a.settingElement},r.a.createElement("div",{className:ct.a.label},"Show Timecodes"),r.a.createElement(rt,{defaultValue:this.props.showTimecodes,label:"Hide Timecodes",handleToggle:this.props.handleShowTimecodes})),r.a.createElement("section",{className:ct.a.settingElement},r.a.createElement("div",{className:ct.a.label},"Show Speaker Labels"),r.a.createElement(rt,{defaultValue:this.props.showSpeakers,label:"Hide Speaker Labels",handleToggle:this.props.handleShowSpeakers})),r.a.createElement("section",{className:ct.a.settingElement},r.a.createElement("div",{className:ct.a.label},"Display Preview"),r.a.createElement(rt,{defaultValue:this.props.previewIsDisplayed,label:"Display Preview",handleToggle:this.props.handlePreviewIsDisplayed})),r.a.createElement("section",{className:ct.a.settingElement},r.a.createElement("div",{className:ct.a.timecodeLabel},"Timecode Offset \u2139"),r.a.createElement(it,{timecodeOffset:this.props.timecodeOffset,handleSetTimecodeOffset:this.props.handleSetTimecodeOffset,handleAnalyticsEvents:this.props.handleAnalyticsEvents}))))}}]),a}(r.a.Component);var pt,ut=function(e){return{"alt+k":{priority:1,handler:function(){e.togglePlayMedia(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+k",name:"togglePlayMedia",value:"na"})},displayKeyCombination:"alt + k",label:"Play Media"},"alt+l":{priority:1,handler:function(){e.skipForward(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+l",name:"skipForward",value:"na"})},displayKeyCombination:"alt + l",label:"Fast Forward"},"alt+j":{priority:1,handler:function(){e.skipBackward(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+j",name:"skipBackward",value:"na"})},displayKeyCombination:"alt + j",label:"Rewind"},"alt+-":{priority:1,handler:function(){e.decreasePlaybackRate(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+-",name:"decreasePlaybackRate",value:"na"})},displayKeyCombination:"alt + -",label:"Decrease Playback Speed"},"alt+=":{priority:1,handler:function(){e.increasePlaybackRate(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+plus",name:"increasePlaybackRate",value:"na"})},displayKeyCombination:"alt + +",label:"Increase Playback Speed"},"alt+r":{priority:1,handler:function(){e.rollBack(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+r",name:"rollBack",value:"na"})},displayKeyCombination:"alt + r",label:"Roll Back"},"alt+t":{priority:1,handler:function(){e.promptSetCurrentTime(),e.props.handleAnalyticsEvents({category:"defaultHotKeys",action:"alt+t",name:"promptSetCurrentTime",value:"na"})},displayKeyCombination:"alt + t",label:"set current time"}}},ht=a(48),mt=a.n(ht),ft=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=ut(this),t=Object.keys(e).map((function(t){var a=e[t];return r.a.createElement("li",{key:t,className:mt.a.listItem},r.a.createElement("div",{className:mt.a.shortcut},a.displayKeyCombination),r.a.createElement("div",{className:mt.a.shortcutLabel},a.label))}));return r.a.createElement("div",{className:mt.a.shortcuts},r.a.createElement("h2",{className:mt.a.header},"Shortcuts"),r.a.createElement("div",{className:mt.a.closeButton,onClick:this.props.handleShortcutsToggle},r.a.createElement(We.a,{icon:Ae.o})),r.a.createElement("ul",{className:mt.a.list},t))}}]),a}(r.a.Component),yt=a(19),vt=a.n(yt),gt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return e!==this.props}},{key:"render",value:function(){var e=this.props;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:vt.a.header},e.showSettings?e.settings:null,e.showShortcuts?e.shortcuts:null,e.showExportOptions?e.exportOptions:null,e.tooltip),r.a.createElement("nav",{className:vt.a.nav},null===e.mediaUrl?null:e.mediaControls))}}]),a}(r.a.Component),kt=a(62),Et=a.n(kt),bt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.exportOptionsList.map((function(t,a){var n;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",(n={key:t.label+a,title:t.label,className:Et.a.playerButton},Object(u.a)(n,"key",t.value),Object(u.a)(n,"onClick",e.props.handleExportOptionsChange),Object(u.a)(n,"value",t.value),n),t.label),r.a.createElement("br",null))}));return r.a.createElement("div",{className:Et.a.settings},r.a.createElement("h2",{className:Et.a.header},"Export Options"),r.a.createElement("div",{className:Et.a.closeButton,onClick:this.props.handleExportToggle},r.a.createElement(We.a,{icon:Ae.o})),r.a.createElement("div",{className:Et.a.controlsContainer},t))}}]),a}(r.a.Component),wt=a(201),St={maxWidth:"1200px",width:"90%"},Ct=(pt=function(){return r.a.createElement(wt.a,{trigger:r.a.createElement("button",{type:"button",className:"button"},"View Instructions"),modal:!0,lockScroll:!1,contentStyle:St},(function(e){return r.a.createElement("div",{className:"modal"},r.a.createElement("a",{className:"close",onClick:e},"\xd7"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{class:"col-12",id:"actualInstructions"},r.a.createElement("h2",null,"Tasks"),r.a.createElement("dl",null,r.a.createElement("dt",null,"Task A - Select sentences that best summarize a 5 minute video"),r.a.createElement("p",null,"\ud83d\udc49",r.a.createElement("em",null,"Read")," the whole transcript and ",r.a.createElement("em",null,"select")," sentences that represent the main idea of the transcript as best as possible."),r.a.createElement("dd",null,r.a.createElement("ol",null,r.a.createElement("li",null,"Select ",r.a.createElement("em",null,"at least ONE")," sentence from the transcript. ",r.a.createElement("em",null,"Choosing 3 to 7 sentences")," (or more if necessary) is recommended."),r.a.createElement("li",null,"The selected sentences should be closely related to your written summary in Task B."))),r.a.createElement("dt",null,"Task B - Write a short summary in your own words"),r.a.createElement("dd",null,"\ud83d\udc49",r.a.createElement("em",null,"Write")," a short summary in your own words (1~2 sentences recommended) in the summary box based on your selected sentences.")),r.a.createElement("h2",null,"Notes"),r.a.createElement("ol",null,r.a.createElement("li",null,"The title of the video is shown on the top of the transcript."),r.a.createElement("li",null,"We only care about the transcribed parts of the video. If the video is longer that 5 minutes, you should do your tasks based on the shown transcript and corresponding video content."),r.a.createElement("li",null,"You do NOT need to watch the entire 5 minute long video if you can do your task by only reading the transcript. The video is to help you understand the context of the transcript.")),r.a.createElement("h2",null,"Caveats"),r.a.createElement("ul",null,r.a.createElement("li",null,"Some videos are not available. In that case, please do the tasks based only on the transcripts."),r.a.createElement("li",null,"Please skip the tasks if the transcripts are not related to the video content (and let us know).")),r.a.createElement("h2",null,"Video Player Control"),r.a.createElement("ul",null,r.a.createElement("li",null,"By click a timestamp, you can jump to that exact time in the video, which is provided to help you understand the context."),r.a.createElement("li",null,"Clicking the video area enables play or pause the video.")))))}))},function(){return r.a.createElement("div",{className:"example-warper"},r.a.createElement(pt,null))}),xt=(a(469),a(470),a(212)),Tt=r.a.createElement("div",{className:vt.a.helpMessage},r.a.createElement("span",null,r.a.createElement(We.a,{className:vt.a.icon,icon:Ae.e}),"Double click on a word or timestamp to jump to that point in the video."),r.a.createElement("span",null,r.a.createElement(We.a,{className:vt.a.icon,icon:Ae.c}),"Start typing to edit text."),r.a.createElement("span",null,r.a.createElement(We.a,{className:vt.a.icon,icon:Ae.l}),"You can add and change names of speakers in your transcript."),r.a.createElement("span",null,r.a.createElement(We.a,{className:vt.a.icon,icon:Ae.d}),"Use keyboard shortcuts for quick control."),r.a.createElement("span",null,r.a.createElement(We.a,{className:vt.a.icon,icon:Ae.i}),"Save & export to get a copy to your desktop.")),Ot=(xt.a,vt.a.help,We.a,vt.a.icon,Ae.h,[{value:"txt",label:"Text file"},{value:"txtspeakertimecodes",label:"Text file - with Speakers and Timecodes"},{value:"docx",label:"MS Word"},{value:"srt",label:"Srt - Captions"},{value:"ttml",label:"TTML - Captions"},{value:"premiereTTML",label:"TTML for Adobe Premiere - Captions"},{value:"itt",label:"iTT - Captions"},{value:"csv",label:"CSV - Captions"},{value:"vtt",label:"VTT - Captions"},{value:"pre-segment-txt",label:"Pre segmented txt - Captions"},{value:"json-captions",label:"Json - Captions"},{value:"draftjs",label:"Draft Js - json"},{value:"digitalpaperedit",label:"Digital Paper Edit - Json"}]),_t=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).shouldComponentUpdate=function(e,t){return e.mediaUrl!==n.props.mediaUrl||t!==n.state},n.componentDidMount=function(){n.updateDimensions(),window.addEventListener("resize",n.updateDimensions)},n.updateDimensions=function(){var e={display:"grid",gridTemplateColumns:"1fr 3fr",gridColumnGap:"1em"},t=null;"audio"===n.props.mediaType&&(console.log("this.props.mediaType",n.props.mediaType),e=null,t={display:"none"}),Math.max(document.documentElement.clientWidth,window.innerWidth||0)<=767&&(e=null),n.setState({gridDisplay:e,displayMedia:t})},n.handleWordClick=function(e){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"doubleClickOnWord",name:"startTime",value:y(e)}),n.setCurrentTime(e)},n.handleTimeUpdate=function(e){var t=e.target.currentTime;n.setState({currentTime:t})},n.handlePlayMedia=function(e){n.playMedia(e)},n.handleIsPlaying=function(){return n.isPlaying()},n.handleIsScrollIntoViewChange=function(e){var t=e.target.checked;n.setState({isScrollIntoViewOn:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleIsScrollIntoViewChange",name:"isScrollIntoViewOn",value:t})},n.handlePauseWhileTyping=function(e){var t=e.target.checked;n.setState({isPauseWhileTypingOn:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handlePauseWhileTyping",name:"isPauseWhileTypingOn",value:t})},n.handleRollBackValueInSeconds=function(e){var t=e.target.value;n.setState({rollBackValueInSeconds:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleRollBackValueInSeconds",name:"rollBackValueInSeconds",value:t})},n.handleSetTimecodeOffset=function(e){n.setState({timecodeOffset:e},(function(){n.timedTextEditorRef.current.forceUpdate()}))},n.handleShowTimecodes=function(e){var t=e.target.checked;n.setState({showTimecodes:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleShowTimecodes",name:"showTimecodes",value:t})},n.handleShowSpeakers=function(e){var t=e.target.checked;n.setState({showSpeakers:t}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleShowSpeakers",name:"showSpeakers",value:t})},n.handleSettingsToggle=function(){n.setState((function(e){return{showSettings:!e.showSettings}}),(function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleSettingsToggle",name:"showSettings",value:!n.state.showSettings})}))},n.handleShortcutsToggle=function(){n.setState((function(e){return{showShortcuts:!e.showShortcuts}}),(function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleShortcutsToggle",name:"showShortcuts",value:!n.state.showShortcuts})}))},n.handleExportToggle=function(){console.log("handleExportToggle",n.state.showExportOptions),n.setState((function(e){return{showExportOptions:!e.showExportOptions}}),(function(){n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleExportToggle",name:"showExportOptions",value:!n.state.showExportOptions})}))},n.handleExportOptionsChange=function(e){var t=e.target.value;if(console.log(t),"instructions"!==t){var a=n.props.title?n.props.title:n.props.mediaUrl,r=n.getEditorContent(t),o=r.data,s=r.ext,i=o;"json"===s&&(i=JSON.stringify(o,null,2)),"docx"!==s&&n.download(i,"".concat(a,".").concat(s)),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"handleExportOptionsChange",name:"exportFile",value:t})}},n.download=function(e,t,a){var n=a||"application/octet-stream",r=document.createElement("a"),o=new Blob([e],{type:n});r.href=window.URL.createObjectURL(o),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)},n.getEditorContent=function(e){var t=n.props.title?n.props.title:"";return n.timedTextEditorRef.current.getEditorContent(e,t)},n.handlePreviewIsDisplayed=function(){n.setState({previewIsDisplayed:!n.state.previewIsDisplayed})},n.onLoadedDataGetDuration=function(e){var t=e.target.duration,a=t+n.state.timecodeOffset,r=y(a);n.setState({mediaDuration:r}),n.props.handleAnalyticsEvents&&n.props.handleAnalyticsEvents({category:"TranscriptEditor",action:"onLoadedDataGetDuration",name:"durationInSeconds-WithoutOffset",value:y(t)})},n.handleChangePreviewViewWidth=function(e){var t=e.target.value;n.setState({previewViewWidth:t})},n.handleAutoSaveChanges=function(e){n.props.handleAutoSaveChanges&&n.props.handleAutoSaveChanges(e)},n.handleRemoveText=function(e){var t=n.state.sentSelected.filter((function(t){return t!==e}));n.setState({sentSelected:t})},n.handleRemoveSent=function(e){var t=n.state.sentNumSelected.filter((function(t){return t!==e}));n.setState({sentNumSelected:t})},n.handleNumWord=function(e){n.setState({numWordSelected:n.state.numWordSelected+e.value},(function(){0===n.state.numWordSelected?(n.setState({numWordRecommendStr:"Select at least ONE sentence."}),n.setState({numWordRecommendEmoji:"\ud83d\ude10"})):n.state.numWordSelected<65?(n.setState({numWordRecommendStr:"Please select MORE sentences."}),n.setState({numWordRecommendEmoji:"\ud83d\ude22"})):n.state.numWordSelected>=65&&n.state.numWordSelected<=80?(n.setState({numWordRecommendStr:"Good amount!"}),n.setState({numWordRecommendEmoji:"\ud83d\ude01"})):n.state.numWordSelected>80&&n.state.numWordSelected<100?(n.setState({numWordRecommendStr:"A little too many. But okay if they are good sentences."}),n.setState({numWordRecommendEmoji:"\ud83d\ude42"})):(n.setState({numWordRecommendStr:"Too MANY sentences selected."}),n.setState({numWordRecommendEmoji:"\ud83d\ude2b"}))})),"addSelection"===e.action?(n.setState({sentSelected:[].concat(Object(i.a)(n.state.sentSelected),[e.text])}),n.setState({sentNumSelected:[].concat(Object(i.a)(n.state.sentNumSelected),[e.sent])})):(n.handleRemoveText(e.text),n.handleRemoveSent(e.sent))},n.videoRef=r.a.createRef(),n.state={currentTime:0,transcriptData:null,isScrollIntoViewOn:!1,showSettings:!1,showShortcuts:!1,showExportOptions:!1,isPauseWhileTypingOn:!0,rollBackValueInSeconds:15,timecodeOffset:0,showTimecodes:!0,showSpeakers:!0,previewIsDisplayed:!0,mediaDuration:"00:00:00:00",gridDisplay:null,summaryLength:0,analyticsEvents:[],numWordSelected:0,sentSelected:[],sentNumSelected:[],numWordRecommendStr:"Select at least ONE sentence.",numWordRecommendEmoji:"\ud83d\ude10"},n.timedTextEditorRef=r.a.createRef(),n.summaryInput=r.a.createRef(),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=r.a.createElement(tt,{mediaUrl:this.props.mediaUrl,onTimeUpdate:this.handleTimeUpdate,videoRef:this.videoRef,previewIsDisplayed:this.state.previewIsDisplayed,onLoadedDataGetDuration:this.onLoadedDataGetDuration}),a=r.a.createElement(Xe,{title:this.props.title?this.props.title:"",mediaDuration:this.state.mediaDuration,currentTime:this.state.currentTime,hookSeek:function(t){return e.setCurrentTime=t},hookPlayMedia:function(t){return e.playMedia=t},hookIsPlaying:function(t){return e.isPlaying=t},rollBackValueInSeconds:this.state.rollBackValueInSeconds,timecodeOffset:this.state.timecodeOffset,mediaUrl:this.props.mediaUrl,handleAnalyticsEvents:this.props.handleAnalyticsEvents,videoRef:this.videoRef}),n=r.a.createElement(dt,{handleSettingsToggle:this.handleSettingsToggle,defaultValuePauseWhileTyping:this.state.isPauseWhileTypingOn,defaultValueScrollSync:this.state.isScrollIntoViewOn,defaultRollBackValueInSeconds:this.state.rollBackValueInSeconds,timecodeOffset:this.state.timecodeOffset,showTimecodes:this.state.showTimecodes,showSpeakers:this.state.showSpeakers,handlePauseWhileTyping:this.handlePauseWhileTyping,handleIsScrollIntoViewChange:this.handleIsScrollIntoViewChange,handleRollBackValueInSeconds:this.handleRollBackValueInSeconds,handleSetTimecodeOffset:this.handleSetTimecodeOffset,handleShowTimecodes:this.handleShowTimecodes,handleShowSpeakers:this.handleShowSpeakers,handleAnalyticsEvents:this.props.handleAnalyticsEvents,previewIsDisplayed:this.state.previewIsDisplayed,handlePreviewIsDisplayed:this.handlePreviewIsDisplayed,handleChangePreviewViewWidth:this.handleChangePreviewViewWidth}),o=r.a.createElement(bt,{exportOptionsList:Ot,handleExportOptionsChange:this.handleExportOptionsChange,handleExportToggle:this.handleExportToggle}),s=r.a.createElement(ft,{handleShortcutsToggle:this.handleShortcutsToggle}),i="draftjs";this.props.autoSaveContentType?i=this.props.autoSaveContentType:this.props.sttJsonType&&(i=this.props.sttJsonType);var l=r.a.createElement(je,{fileName:this.props.fileName,transcriptData:this.state.transcriptData,timecodeOffset:this.state.timecodeOffset,onWordClick:this.handleWordClick,playMedia:this.handlePlayMedia,isPlaying:this.handleIsPlaying,currentTime:this.state.currentTime,isEditable:this.props.isEditable,spellCheck:this.props.spellCheck,sttJsonType:this.props.sttJsonType,mediaUrl:this.props.mediaUrl,isScrollIntoViewOn:this.state.isScrollIntoViewOn,isPauseWhileTypingOn:this.state.isPauseWhileTypingOn,showTimecodes:this.state.showTimecodes,showSpeakers:this.state.showSpeakers,ref:this.timedTextEditorRef,handleAnalyticsEvents:this.props.handleAnalyticsEvents,handleAutoSaveChanges:this.handleAutoSaveChanges,autoSaveContentType:i,title:this.props.title?this.props.title:Date.now(),handleNumWord:this.handleNumWord}),c=r.a.createElement(gt,{mediaUrl:this.props.mediaUrl,mediaControls:this.videoRef.current?a:null,showSettings:this.state.showSettings,showShortcuts:this.state.showShortcuts,showExportOptions:this.state.showExportOptions,settings:n,shortcuts:s,exportOptions:o,handleExportToggle:this.handleExportToggle,handleSettingsToggle:this.handleSettingsToggle,handleShortcutsToggle:this.handleShortcutsToggle});return r.a.createElement("div",{className:vt.a.container},this.props.mediaUrl?c:null,r.a.createElement("div",{className:vt.a.grid},r.a.createElement("section",{className:vt.a.row,style:this.state.gridDisplay},r.a.createElement("aside",Object(u.a)({className:vt.a.aside,style:this.state.displayMedia},"style",{paddingLeft:"0.75em"}),this.props.mediaUrl?t:null,r.a.createElement(Ct,null),r.a.createElement("p",null,r.a.createElement("div",{style:{fontWeight:"bold"}},"Task A) Select sentences that best summarize a 5 minute transcript."),r.a.createElement("div",{style:{color:"#e34850"}},"Please do ",r.a.createElement("strong",null,"NOT")," select ",r.a.createElement("strong",null,"chit-chat")," or ",r.a.createElement("strong",null,"greetings")," as summary sentences."),r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:"22px"}},this.state.numWordRecommendEmoji)," ",this.state.numWordRecommendStr)),r.a.createElement("p",null,r.a.createElement("div",{style:{fontWeight:"bold"}},"Task B) Write a summary based on the selected sentences."),r.a.createElement("div",null,"A minimum length of ",r.a.createElement("strong",null,"100")," characters is required. Characters written: ",r.a.createElement("span",{style:{color:"#0693e3"}},this.state.summaryLength))),r.a.createElement("div",null,r.a.createElement("textarea",{ref:this.summaryInput,onChange:function(t){return function(t){e.setState({summaryLength:t.target.value.length})}(t)},className:"written-summary",name:"summary",rows:"8",cols:"75",minlength:"100",style:{padding:"0.5em"}}),r.a.createElement("span",{style:{fontWeight:"bold"}},"Selected Sentences"),r.a.createElement("br",null),JSON.stringify(this.state.sentSelected,null,2),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{style:{fontWeight:"bold"}},"Selected Sentence Numbers"),r.a.createElement("br",null),JSON.stringify(this.state.sentNumSelected,null,2))),r.a.createElement("main",{className:"audio"===this.props.mediaType?vt.a.mainWithAudiio:vt.a.main},this.props.mediaUrl&&this.props.transcriptData?l:null))))}}],[{key:"getDerivedStateFromProps",value:function(e){return null!==e.transcriptData?{transcriptData:e.transcriptData}:null}}]),a}(r.a.Component),Pt=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).loadVideo=function(){var e=document.getElementById("transcriptData").value,t=document.getElementById("mediaUrl").value,a=document.getElementById("title").value;fetch(e).then((function(e){return e.json()})).then((function(e){n.setState({transcriptData:e})})).catch(console.log),n.setState({mediaUrl:t,title:a,sttType:"google-stt"})},n.handleAnalyticsEvents=function(e){n.setState({analyticsEvents:[].concat(Object(i.a)(n.state.analyticsEvents),[e])})},n.state={transcriptData:null,mediaUrl:null,isTextEditable:!1,spellCheck:!1,sttType:"google-stt",analyticsEvents:[],title:"",fileName:"",autoSaveData:{},autoSaveContentType:"draftjs",autoSaveExtension:"json"},n.transcriptEditorRef=r.a.createRef(),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.loadVideo()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Summary_annotation"},r.a.createElement(_t,{transcriptData:this.state.transcriptData,fileName:this.state.fileName,mediaUrl:this.state.mediaUrl,isEditable:this.state.isTextEditable,spellCheck:this.state.spellCheck,sttJsonType:this.state.sttType,handleAnalyticsEvents:this.handleAnalyticsEvents,title:this.state.title,ref:this.transcriptEditorRef,handleAutoSaveChanges:this.handleAutoSaveChanges,autoSaveContentType:this.state.autoSaveContentType,mediaType:"video"}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Pt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e,t,a){e.exports={shortcuts:"keyboard-shortcuts_shortcuts__2swkx",header:"keyboard-shortcuts_header__NuhLA",closeButton:"keyboard-shortcuts_closeButton__3er9F",list:"keyboard-shortcuts_list__jnAk_",listItem:"keyboard-shortcuts_listItem__1TzzX",shortcut:"keyboard-shortcuts_shortcut__30R3D",shortcutLabel:"keyboard-shortcuts_shortcutLabel__vpBex"}},60:function(e,t,a){e.exports={unselectable:"WrapperBlock_unselectable__hU6QO",markers:"WrapperBlock_markers__3K8G3",WrapperBlock:"WrapperBlock_WrapperBlock__3ORF6",speaker:"WrapperBlock_speaker__3292e",text:"WrapperBlock_text__2-HUA",time:"WrapperBlock_time__3dZaD",speakerEditable:"WrapperBlock_speakerEditable__3tFkP",speakerNotEditable:"WrapperBlock_speakerNotEditable__3f0oJ",EditLabel:"WrapperBlock_EditLabel__2xvZJ"}},61:function(e,t,a){e.exports={topSection:"media-player_topSection__3PvSj",playerSection:"media-player_playerSection__1kHsH",controlsSection:"media-player_controlsSection__2zuBP",title:"media-player_title__3Z1Ji"}},62:function(e,t,a){e.exports={settings:"src_settings__4QuRl",header:"src_header__qzCif",closeButton:"src_closeButton__3VXOJ",controlsContainer:"src_controlsContainer__1vQty",settingElement:"src_settingElement__jGE9a",label:"src_label__vApSA",rollbackValue:"src_rollbackValue__Jq3w-",timecodeLabel:"src_timecodeLabel__2e9q_",playerButton:"src_playerButton__1Zs-d"}},73:function(e,t,a){e.exports={offsetContainer:"TimecodeOffset_offsetContainer__3fg-M",inputBox:"TimecodeOffset_inputBox__2hVnK",button:"TimecodeOffset_button__3fQGw"}},89:function(e,t,a){e.exports={switchContainer:"Toggle_switchContainer__42-hg",switch:"Toggle_switch__1O_V_",slider:"Toggle_slider__CPVDs"}}},[[221,1,2]]]);
//# sourceMappingURL=main.5d51f53c.chunk.js.map